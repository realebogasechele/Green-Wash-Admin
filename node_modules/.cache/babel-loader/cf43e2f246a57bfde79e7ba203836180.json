{"ast":null,"code":"var _jsxFileName = \"/Users/onceknownriley/Documents/GreenWashProject/Admin/src/components/Forms/AdminForm.tsx\",\n    _s = $RefreshSig$();\n\n/** @jsxImportSource theme-ui */\nimport { Storage } from \"@capacitor/storage\";\nimport { IonAlert, IonButton, IonCol, IonGrid, IonInput, IonItem, IonLabel, IonLoading, IonRow, useIonViewWillEnter } from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\nimport { jsxDEV as _jsxDEV } from \"theme-ui/jsx-dev-runtime\";\n\nconst AdminForm = props => {\n  _s();\n\n  const {\n    adminId,\n    name,\n    surname,\n    cellNum,\n    password\n  } = props.content;\n  useIonViewWillEnter(() => {\n    if (props.buttonName === \"Update\") {\n      setShowLoader(true);\n      getAdminId();\n    }\n  });\n  let admin = {\n    adminId: \"\",\n    name: \"\",\n    surname: \"\",\n    cellNum: \"\",\n    email: \"\",\n    password: \"\"\n  };\n\n  const getAdminId = async () => {\n    const id = await Storage.get({\n      key: \"adminId\"\n    });\n    const adminId = id.value;\n    getAdminDetails(adminId);\n  };\n\n  const getAdminDetails = adminId => {\n    let url = \"get/\".concat(adminId);\n    Connection.processGetRequest({}, url, response => {\n      mapResponse(response);\n    });\n  };\n\n  const updateAdmin = response => {\n    admin = response;\n  };\n\n  const mapResponse = response => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      updateAdmin(response.data.data);\n      updateName(admin.name);\n      updateSurname(admin.surname);\n      updateCellNum(admin.cellNum);\n      updateEmail(admin.email);\n      setShowLoader(false);\n    }\n  };\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [showSuccessUpdate, setShowSuccessUpdate] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showInfo, setShowInfo] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [enteredName, setEnteredName] = useState(name);\n  const [enteredSurname, setEnteredSurname] = useState(surname);\n  const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n  const [enteredEmail, setEnteredEmail] = useState(cellNum);\n  const [enteredPassword, setEnteredPassword] = useState(password);\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updateName = name => {\n    setEnteredName(name);\n  };\n\n  const updateSurname = surname => {\n    setEnteredSurname(surname);\n  };\n\n  const updateCellNum = cellNum => {\n    setEnteredCellNum(cellNum);\n  };\n\n  const updateEmail = email => {\n    setEnteredEmail(email);\n  };\n\n  const updatePassword = password => {\n    setEnteredPassword(password);\n  };\n\n  const updateConfirmPassword = confirmPassword => {\n    setConfirmPassword(confirmPassword);\n  };\n\n  const getId = async () => {\n    const id = await Storage.get({\n      key: \"adminId\"\n    });\n    const adminId = id.value;\n\n    if (props.buttonName === \"Update\") {\n      finishUpdate(adminId);\n    } else {\n      finishDelete(adminId);\n    }\n  };\n\n  const finishUpdate = adminId => {\n    let url = \"update\";\n    let payload = {\n      adminId: adminId,\n      name: enteredName,\n      surname: enteredSurname,\n      cellNum: enteredCellNum,\n      email: enteredEmail,\n      password: enteredPassword\n    };\n    Connection.processPostRequest(payload, url, response => {\n      mapUpdateResponse(response);\n    });\n  };\n\n  const finishDelete = adminId => {\n    let url = \"remove/\".concat(adminId);\n    Connection.processDeleteRequest({}, url, response => mapDeleteResponse(response));\n  };\n\n  let path = useHistory();\n\n  const buttonHandler = () => {\n    if (props.buttonName === \"Update\") {\n      setShowLoader(true);\n      validateForm();\n    } else if (props.buttonName === 'Delete') {\n      setMessage('By selecting delete you will lose all of your personal data as well as your account ?');\n      setShowInfo(true);\n    } else {\n      setShowLoader(true);\n      validateForm();\n    }\n  };\n\n  const mapUpdateResponse = response => {\n    setShowLoader(false);\n\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setMessage(\"Profile Updated!\");\n      setShowSuccessUpdate(true);\n    }\n  };\n\n  const mapPostResponse = response => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setMessage(\"Details Successfully Captured!\");\n      setShowSuccess(true);\n    }\n  };\n\n  const mapDeleteResponse = response => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      setMessage(\"Profile Deleted\");\n      setShowSuccess(true);\n    }\n  };\n\n  const validateForm = () => {\n    if (enteredName === \"\" || enteredSurname === \"\" || enteredCellNum === \"\" || enteredPassword === \"\") {\n      setShowLoader(false);\n      setMessage(\"Fields must not be left empty.\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else if (enteredPassword !== confirmPassword) {\n      setShowLoader(false);\n      setMessage(\"Passwords do not match. Please ensure they are entered correctly!\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else {\n      if (!validName.test(enteredName)) {\n        setShowLoader(false);\n        setMessage(\"Invalid Name.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validName.test(enteredSurname)) {\n        setShowLoader(false);\n        setMessage(\"Invalid Surname.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validCellNum.test(enteredCellNum)) {\n        setShowLoader(false);\n        setMessage(\"Invalid Cell Number.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validPassword.test(enteredPassword)) {\n        setShowLoader(false);\n        setMessage(\"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else {\n        if (props.buttonName === \"Update\") {\n          getId();\n        } else {\n          let url = \"signUp\";\n          let payload = {\n            adminId: adminId,\n            name: enteredName,\n            surname: enteredSurname,\n            cellNum: enteredCellNum,\n            email: enteredEmail,\n            password: enteredPassword\n          };\n          Connection.processPostRequest(payload, url, response => {\n            mapPostResponse(response);\n          });\n        }\n      }\n    }\n  };\n\n  return _jsxDEV(IonGrid, {\n    children: [_jsxDEV(IonLoading, {\n      cssClass: \"my-custom-class\",\n      showBackdrop: true,\n      isOpen: showLoader,\n      message: \"Please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), _jsxDEV(IonAlert, {\n      isOpen: showError,\n      onDidDismiss: () => setShowError(false),\n      header: \"Error\",\n      subHeader: \"Something went wrong.\",\n      message: message,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), _jsxDEV(IonAlert, {\n      isOpen: showSuccess,\n      onDidDismiss: () => path.push(\"/signIn\"),\n      header: \"Success\",\n      subHeader: message,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), _jsxDEV(IonAlert, {\n      isOpen: showSuccessUpdate,\n      onDidDismiss: () => path.push(\"/dashboard\"),\n      header: \"Success\",\n      subHeader: message,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), _jsxDEV(IonAlert, {\n      isOpen: showInfo,\n      onDidDismiss: () => setShowInfo(false),\n      cssClass: \"my-custom-class\",\n      header: \"Warning\",\n      message: message,\n      buttons: [{\n        text: \"Cancel\"\n      }, {\n        text: \"Yes, I'm sure\",\n        handler: () => {\n          setShowInfo(false);\n          setMessage('Are you sure ?');\n          setShowConfirm(true);\n        }\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), _jsxDEV(IonAlert, {\n      isOpen: showConfirm,\n      onDidDismiss: () => setShowConfirm(false),\n      cssClass: \"my-custom-class\",\n      header: \"Confirm\",\n      message: message,\n      buttons: [{\n        text: \"No\",\n        role: \"cancel\",\n        cssClass: \"secondary\",\n        handler: () => {}\n      }, {\n        text: \"Yes, I'm sure\",\n        handler: () => {\n          getId();\n          setShowConfirm(false);\n        }\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), _jsxDEV(IonRow, {\n      children: _jsxDEV(IonCol, {\n        children: _jsxDEV(IonItem, {\n          sx: styles.item,\n          children: [_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: [\"Name \", _jsxDEV(\"span\", {\n              sx: styles.arterisk.name,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), _jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredName,\n            disabled: props.isDisabled,\n            onIonChange: e => updateName(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), _jsxDEV(IonRow, {\n      children: _jsxDEV(IonCol, {\n        children: _jsxDEV(IonItem, {\n          sx: styles.item,\n          children: [_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: [\"Surname \", _jsxDEV(\"span\", {\n              sx: styles.arterisk.surname,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), _jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredSurname,\n            disabled: props.isDisabled,\n            onIonChange: e => updateSurname(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), _jsxDEV(IonRow, {\n      children: _jsxDEV(IonCol, {\n        children: _jsxDEV(IonItem, {\n          sx: styles.item,\n          children: [_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: [\"Cell Number \", _jsxDEV(\"span\", {\n              sx: styles.arterisk.cellNum,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), _jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredCellNum,\n            disabled: props.isDisabled,\n            onIonChange: e => updateCellNum(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), _jsxDEV(IonRow, {\n      children: _jsxDEV(IonCol, {\n        children: _jsxDEV(IonItem, {\n          sx: styles.item,\n          children: [_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: [\"Email \", _jsxDEV(\"span\", {\n              sx: styles.arterisk.email,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), _jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredEmail,\n            disabled: props.isDisabled,\n            onIonChange: e => updateEmail(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this), _jsxDEV(IonRow, {\n      children: _jsxDEV(IonCol, {\n        children: _jsxDEV(IonItem, {\n          sx: styles.item,\n          children: [_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: [\"Password \", _jsxDEV(\"span\", {\n              sx: styles.arterisk.pass,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), _jsxDEV(IonInput, {\n            type: \"password\",\n            value: enteredPassword,\n            disabled: props.isDisabled,\n            onIonChange: e => updatePassword(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this), _jsxDEV(IonRow, {\n      children: _jsxDEV(IonCol, {\n        children: _jsxDEV(IonItem, {\n          sx: styles.item,\n          children: [_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: [\"Confrim Password \", _jsxDEV(\"span\", {\n              sx: styles.arterisk.confirm,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), _jsxDEV(IonInput, {\n            type: \"password\",\n            value: confirmPassword,\n            disabled: props.isDisabled,\n            onIonChange: e => updateConfirmPassword(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), _jsxDEV(IonRow, {\n      children: _jsxDEV(IonCol, {\n        children: _jsxDEV(IonButton, {\n          shape: \"round\",\n          type: \"submit\",\n          expand: \"block\",\n          onClick: buttonHandler,\n          children: props.buttonName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminForm, \"YX13FzE71iLZkhmTadr7Xr8WKHk=\", false, function () {\n  return [useIonViewWillEnter, useHistory];\n});\n\n_c = AdminForm;\nexport default AdminForm;\nvar display = {\n  name: \"inline-block\",\n  surname: \"inline-block\",\n  cellNum: \"inline-block\",\n  email: \"inline-block\",\n  pass: \"inline-block\",\n  confirm: \"inline-block\"\n};\nconst styles = {\n  arterisk: {\n    name: {\n      display: display.name,\n      color: \"red\"\n    },\n    surname: {\n      display: display.surname,\n      color: \"red\"\n    },\n    cellNum: {\n      display: display.cellNum,\n      color: \"red\"\n    },\n    email: {\n      display: display.email,\n      color: \"red\"\n    },\n    pass: {\n      display: display.pass,\n      color: \"red\"\n    },\n    confirm: {\n      display: display.confirm,\n      color: \"red\"\n    }\n  },\n  item: {\n    mb: \"2vh\"\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminForm\");","map":{"version":3,"sources":["/Users/onceknownriley/Documents/GreenWashProject/Admin/src/components/Forms/AdminForm.tsx"],"names":["Storage","IonAlert","IonButton","IonCol","IonGrid","IonInput","IonItem","IonLabel","IonLoading","IonRow","useIonViewWillEnter","React","useState","useHistory","Connection","validCellNum","validPassword","validName","AdminForm","props","adminId","name","surname","cellNum","password","content","buttonName","setShowLoader","getAdminId","admin","email","id","get","key","value","getAdminDetails","url","concat","processGetRequest","response","mapResponse","updateAdmin","type","setMessage","data","setShowError","updateName","updateSurname","updateCellNum","updateEmail","showLoader","showError","message","showSuccessUpdate","setShowSuccessUpdate","showSuccess","setShowSuccess","showInfo","setShowInfo","showConfirm","setShowConfirm","isFormValid","setIsFormValid","enteredName","setEnteredName","enteredSurname","setEnteredSurname","enteredCellNum","setEnteredCellNum","enteredEmail","setEnteredEmail","enteredPassword","setEnteredPassword","confirmPassword","setConfirmPassword","updatePassword","updateConfirmPassword","getId","finishUpdate","finishDelete","payload","processPostRequest","mapUpdateResponse","processDeleteRequest","mapDeleteResponse","path","buttonHandler","validateForm","mapPostResponse","test","push","text","handler","role","cssClass","styles","item","arterisk","isDisabled","e","detail","pass","confirm","display","color","mb"],"mappings":"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","sourcesContent":["/** @jsxImportSource theme-ui */\nimport { Storage } from \"@capacitor/storage\";\nimport {\n  IonAlert,\n  IonButton,\n  IonCol,\n  IonGrid,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonLoading,\n  IonRow,\n  useIonViewWillEnter,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\n\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\n\ninterface Admin {\n  adminId: string;\n  name: string;\n  surname: string;\n  cellNum: string;\n  password: string;\n}\n\nconst AdminForm: React.FC<{\n  buttonName: string;\n  content: Admin;\n  isDisabled: boolean;\n}> = (props) => {\n  const { adminId, name, surname, cellNum, password } = props.content;\n\n  useIonViewWillEnter(() => {\n    if (props.buttonName === \"Update\") {\n      setShowLoader(true);\n      getAdminId();\n    }\n  });\n\n  let admin = {\n    adminId: \"\",\n    name: \"\",\n    surname: \"\",\n    cellNum: \"\",\n    email: \"\",\n    password: \"\",\n  };\n\n  const getAdminId = async () => {\n    const id: any = await Storage.get({ key: \"adminId\" });\n    const adminId = id.value;\n\n    getAdminDetails(adminId);\n  };\n\n  const getAdminDetails = (adminId: string) => {\n    let url = \"get/\".concat(adminId);\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapResponse(response);\n    });\n  };\n  const updateAdmin = (response: any) => {\n    admin = response;\n  };\n\n  const mapResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      updateAdmin(response.data.data);\n      updateName(admin.name);\n      updateSurname(admin.surname);\n      updateCellNum(admin.cellNum);\n      updateEmail(admin.email);\n      setShowLoader(false);\n    }\n  };\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [showSuccessUpdate, setShowSuccessUpdate] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showInfo, setShowInfo] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  const [enteredName, setEnteredName] = useState(name);\n  const [enteredSurname, setEnteredSurname] = useState(surname);\n  const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n  const [enteredEmail, setEnteredEmail] = useState(cellNum);\n  const [enteredPassword, setEnteredPassword] = useState(password);\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updateName = (name: any) => {\n    setEnteredName(name);\n  };\n  const updateSurname = (surname: any) => {\n    setEnteredSurname(surname);\n  };\n  const updateCellNum = (cellNum: any) => {\n    setEnteredCellNum(cellNum);\n  };\n  const updateEmail = (email: any) => {\n    setEnteredEmail(email);\n  };\n  const updatePassword = (password: any) => {\n    setEnteredPassword(password);\n  };\n  const updateConfirmPassword = (confirmPassword: any) => {\n    setConfirmPassword(confirmPassword);\n  };\n\n  const getId = async () => {\n    const id: any = await Storage.get({ key: \"adminId\" });\n    const adminId = id.value;\n    if (props.buttonName === \"Update\") {\n      finishUpdate(adminId);\n    } else {\n      finishDelete(adminId);\n    }\n  };\n  const finishUpdate = (adminId: any) => {\n    let url = \"update\";\n    let payload = {\n      adminId: adminId,\n      name: enteredName,\n      surname: enteredSurname,\n      cellNum: enteredCellNum,\n      email: enteredEmail,\n      password: enteredPassword,\n    };\n    Connection.processPostRequest(payload, url, (response: any) => {\n      mapUpdateResponse(response);\n    });\n  };\n\n  const finishDelete = (adminId: any) => {\n    let url = \"remove/\".concat(adminId);\n    Connection.processDeleteRequest({}, url, (response: any) =>\n      mapDeleteResponse(response)\n    );\n  };\n\n  let path = useHistory();\n\n  const buttonHandler = () => {\n    if (props.buttonName === \"Update\") {\n      setShowLoader(true);\n      validateForm();\n    } \n    else if(props.buttonName === 'Delete'){\n      setMessage('By selecting delete you will lose all of your personal data as well as your account ?')\n      setShowInfo(true);\n    }else{\n      setShowLoader(true);\n      validateForm();\n    }\n  };\n\n  const mapUpdateResponse = (response: any) => {\n    setShowLoader(false);\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setMessage(\"Profile Updated!\");\n      setShowSuccessUpdate(true);\n    }\n  };\n\n  const mapPostResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setMessage(\"Details Successfully Captured!\");\n      setShowSuccess(true);\n    }\n  };\n\n  const mapDeleteResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      setMessage(\"Profile Deleted\");\n      setShowSuccess(true);\n    }\n  };\n\n  const validateForm = () => {\n    if (\n      enteredName === \"\" ||\n      enteredSurname === \"\" ||\n      enteredCellNum === \"\" ||\n      enteredPassword === \"\"\n    ) {\n      setShowLoader(false);\n      setMessage(\"Fields must not be left empty.\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else if (enteredPassword !== confirmPassword) {\n      setShowLoader(false);\n      setMessage(\n        \"Passwords do not match. Please ensure they are entered correctly!\"\n      );\n      setShowError(true);\n      setIsFormValid(false);\n    } else {\n      if (!validName.test(enteredName)) {\n        setShowLoader(false);\n        setMessage(\"Invalid Name.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validName.test(enteredSurname)) {\n        setShowLoader(false);\n        setMessage(\"Invalid Surname.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validCellNum.test(enteredCellNum)) {\n        setShowLoader(false);\n        setMessage(\"Invalid Cell Number.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validPassword.test(enteredPassword)) {\n        setShowLoader(false);\n        setMessage(\n          \"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\"\n        );\n        setShowError(true);\n        setIsFormValid(false);\n      } else {\n        if(props.buttonName === \"Update\"){\n          getId();\n        }else{\n          let url = \"signUp\";\n          let payload = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          email: enteredEmail,\n          password: enteredPassword,\n        };\n\n        Connection.processPostRequest(payload, url, (response: any) => {\n          mapPostResponse(response);\n        });\n        }\n      }\n    }\n  };\n\n  return (\n    <IonGrid>\n      <IonLoading\n        cssClass=\"my-custom-class\"\n        showBackdrop\n        isOpen={showLoader}\n        message={\"Please wait...\"}\n      />\n\n      <IonAlert\n        isOpen={showError}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Error\"}\n        subHeader={\"Something went wrong.\"}\n        message={message}\n        buttons={[\"OK\"]}\n      />\n\n      <IonAlert\n        isOpen={showSuccess}\n        onDidDismiss={() => path.push(\"/signIn\")}\n        header={\"Success\"}\n        subHeader={message}\n        buttons={[\"OK\"]}\n      />\n      <IonAlert\n        isOpen={showSuccessUpdate}\n        onDidDismiss={() => path.push(\"/dashboard\")}\n        header={\"Success\"}\n        subHeader={message}\n        buttons={[\"OK\"]}\n      />\n      <IonAlert\n        isOpen={showInfo}\n        onDidDismiss={() => setShowInfo(false)}\n        cssClass=\"my-custom-class\"\n        header={\"Warning\"}\n        message={message}\n        buttons={[\n          {\n            text: \"Cancel\",\n          },\n          {\n            text: \"Yes, I'm sure\",\n            handler: () => {\n              setShowInfo(false);\n              setMessage('Are you sure ?');\n              setShowConfirm(true);\n            },\n          },\n        ]}\n      />\n      <IonAlert\n        isOpen={showConfirm}\n        onDidDismiss={() => setShowConfirm(false)}\n        cssClass=\"my-custom-class\"\n        header={\"Confirm\"}\n        message={message}\n        buttons={[\n          {\n            text: \"No\",\n            role: \"cancel\",\n            cssClass: \"secondary\",\n            handler: () => {},\n          },\n          {\n            text: \"Yes, I'm sure\",\n            handler: () => {\n              getId();\n              setShowConfirm(false);\n            },\n          },\n        ]}\n      />\n      <IonRow>\n        <IonCol>\n          <IonItem sx={styles.item}>\n            <IonLabel position=\"floating\">\n              Name <span sx={styles.arterisk.name}>*</span>\n            </IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredName}\n              disabled={props.isDisabled}\n              onIonChange={(e) => updateName(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem sx={styles.item}>\n            <IonLabel position=\"floating\">\n              Surname <span sx={styles.arterisk.surname}>*</span>\n            </IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredSurname}\n              disabled={props.isDisabled}\n              onIonChange={(e) => updateSurname(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem sx={styles.item}>\n            <IonLabel position=\"floating\">\n              Cell Number <span sx={styles.arterisk.cellNum}>*</span>\n            </IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredCellNum}\n              disabled={props.isDisabled}\n              onIonChange={(e) => updateCellNum(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem sx={styles.item}>\n            <IonLabel position=\"floating\">\n              Email <span sx={styles.arterisk.email}>*</span>\n            </IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredEmail}\n              disabled={props.isDisabled}\n              onIonChange={(e) => updateEmail(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem sx={styles.item}>\n            <IonLabel position=\"floating\">\n              Password <span sx={styles.arterisk.pass}>*</span>\n            </IonLabel>\n            <IonInput\n              type=\"password\"\n              value={enteredPassword}\n              disabled={props.isDisabled}\n              onIonChange={(e) => updatePassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem sx={styles.item}>\n            <IonLabel position=\"floating\">\n              Confrim Password <span sx={styles.arterisk.confirm}>*</span>\n            </IonLabel>\n            <IonInput\n              type=\"password\"\n              value={confirmPassword}\n              disabled={props.isDisabled}\n              onIonChange={(e) => updateConfirmPassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonButton\n            shape=\"round\"\n            type=\"submit\"\n            expand=\"block\"\n            onClick={buttonHandler}\n          >\n            {props.buttonName}\n          </IonButton>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  );\n};\n\nexport default AdminForm;\nvar display = {\n  name: \"inline-block\",\n  surname: \"inline-block\",\n  cellNum: \"inline-block\",\n  email: \"inline-block\",\n  pass: \"inline-block\",\n  confirm: \"inline-block\",\n};\n\nconst styles = {\n  arterisk: {\n    name: {\n      display: display.name,\n      color: \"red\",\n    },\n    surname: {\n      display: display.surname,\n      color: \"red\",\n    },\n    cellNum: {\n      display: display.cellNum,\n      color: \"red\",\n    },\n    email: {\n      display: display.email,\n      color: \"red\",\n    },\n    pass: {\n      display: display.pass,\n      color: \"red\",\n    },\n    confirm: {\n      display: display.confirm,\n      color: \"red\",\n    },\n  },\n  item: {\n    mb: \"2vh\",\n  },\n};\n"]},"metadata":{},"sourceType":"module"}