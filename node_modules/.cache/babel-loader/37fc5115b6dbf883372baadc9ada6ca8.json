{"ast":null,"code":"var _jsxFileName = \"/Users/onceknownriley/Documents/GreenWashProject/Admin/src/components/Card/ClientCard.tsx\",\n    _s = $RefreshSig$();\n\nimport { IonAlert, IonCard, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCol, IonLoading, IonRow } from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ClientCard = props => {\n  _s();\n\n  const path = useHistory();\n  const [showOptions, setShowOptions] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showLoader, setShowLoader] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handler = () => {\n    setShowOptions(true);\n  };\n\n  const deleteClient = id => {\n    setShowLoader(true);\n    let url = 'client/remove/'.concat(id);\n    Connection.processDeleteRequest({}, url, response => mapResponse(response));\n  };\n\n  const mapResponse = response => {\n    if (response.type === 'error') {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setMessage(response.data);\n      setShowSuccess(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(IonLoading, {\n      cssClass: \"my-custom-class\",\n      showBackdrop: true,\n      isOpen: showLoader,\n      message: \"Please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n      isOpen: showError,\n      onDidDismiss: () => setShowError(false),\n      header: \"Error\",\n      subHeader: \"Something went wrong.\",\n      message: message,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n      isOpen: showSuccess,\n      onDidDismiss: () => path.replace(\"/clients\"),\n      header: \"Success\",\n      subHeader: message,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n      isOpen: showOptions,\n      onDidDismiss: () => setShowOptions(false),\n      header: 'Warning',\n      message: 'By removing this client, you are revoking their access to this application and permanently removing them from your system ?',\n      buttons: [{\n        text: \"Cancel\",\n        cssClass: \"secondary\"\n      }, {\n        text: \"Continue\",\n        handler: () => {\n          setShowOptions(false);\n          setShowConfirm(true);\n        }\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n      isOpen: showConfirm,\n      onDidDismiss: () => setShowConfirm(false),\n      header: 'Confirm',\n      message: 'Are you sure ?',\n      buttons: [{\n        text: \"No\",\n        cssClass: \"secondary\"\n      }, {\n        text: \"Yes\",\n        handler: () => {\n          setShowConfirm(false);\n          deleteClient(props.id);\n        }\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonCard, {\n          color: \"secondary\",\n          button: true,\n          onClick: handler,\n          children: /*#__PURE__*/_jsxDEV(IonCardHeader, {\n            children: [/*#__PURE__*/_jsxDEV(IonCardTitle, {\n              children: [props.name, \" \", props.surname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IonCardSubtitle, {\n              children: props.complexName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ClientCard, \"GKNkc5v8UKzgh7jD3zPO9u8ETyQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = ClientCard;\nexport default ClientCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientCard\");","map":{"version":3,"sources":["/Users/onceknownriley/Documents/GreenWashProject/Admin/src/components/Card/ClientCard.tsx"],"names":["IonAlert","IonCard","IonCardHeader","IonCardSubtitle","IonCardTitle","IonCol","IonLoading","IonRow","React","useState","useHistory","Connection","ClientCard","props","path","showOptions","setShowOptions","showConfirm","setShowConfirm","showLoader","setShowLoader","showSuccess","setShowSuccess","showError","setShowError","message","setMessage","handler","deleteClient","id","url","concat","processDeleteRequest","response","mapResponse","type","data","replace","text","cssClass","name","surname","complexName"],"mappings":";;;AAAA,SACIA,QADJ,EAEEC,OAFF,EAGEC,aAHF,EAIEC,eAJF,EAKEC,YALF,EAMEC,MANF,EAOEC,UAPF,EAQEC,MARF,QASO,cATP;AAUA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;;;AAEA,MAAMC,UAKJ,GAAIC,KAAD,IAAW;AAAA;;AACd,QAAMC,IAAI,GAAGJ,UAAU,EAAvB;AACE,QAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACQ,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMkB,OAAO,GAAG,MAAM;AAClBX,IAAAA,cAAc,CAAC,IAAD,CAAd;AACH,GAFD;;AAGA,QAAMY,YAAY,GAAIC,EAAD,IAAa;AAChCT,IAAAA,aAAa,CAAC,IAAD,CAAb;AACA,QAAIU,GAAG,GAAG,iBAAiBC,MAAjB,CAAwBF,EAAxB,CAAV;AACAlB,IAAAA,UAAU,CAACqB,oBAAX,CAAgC,EAAhC,EAAoCF,GAApC,EAA0CG,QAAD,IAAmBC,WAAW,CAACD,QAAD,CAAvE;AACD,GAJD;;AAMA,QAAMC,WAAW,GAAID,QAAD,IAAmB;AACrC,QAAIA,QAAQ,CAACE,IAAT,KAAkB,OAAtB,EAA8B;AAC5Bf,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAM,MAAAA,UAAU,CAACO,QAAQ,CAACG,IAAV,CAAV;AACAZ,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,KAJD,MAIK;AACHJ,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAM,MAAAA,UAAU,CAACO,QAAQ,CAACG,IAAV,CAAV;AACAd,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AACF,GAVD;;AAWF,sBACE;AAAA,4BACA,QAAC,UAAD;AACI,MAAA,QAAQ,EAAC,iBADb;AAEI,MAAA,YAAY,MAFhB;AAGI,MAAA,MAAM,EAAEH,UAHZ;AAII,MAAA,OAAO,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA,YADA,eAQE,QAAC,QAAD;AACE,MAAA,MAAM,EAAEI,SADV;AAEE,MAAA,YAAY,EAAE,MAAMC,YAAY,CAAC,KAAD,CAFlC;AAGE,MAAA,MAAM,EAAE,OAHV;AAIE,MAAA,SAAS,EAAE,uBAJb;AAKE,MAAA,OAAO,EAAEC,OALX;AAME,MAAA,OAAO,EAAE,CAAC,IAAD;AANX;AAAA;AAAA;AAAA;AAAA,YARF,eAiBE,QAAC,QAAD;AACE,MAAA,MAAM,EAAEJ,WADV;AAEE,MAAA,YAAY,EAAE,MAAMP,IAAI,CAACuB,OAAL,CAAa,UAAb,CAFtB;AAGE,MAAA,MAAM,EAAE,SAHV;AAIE,MAAA,SAAS,EAAEZ,OAJb;AAKE,MAAA,OAAO,EAAE,CAAC,IAAD;AALX;AAAA;AAAA;AAAA;AAAA,YAjBF,eAwBA,QAAC,QAAD;AACM,MAAA,MAAM,EAAEV,WADd;AAEM,MAAA,YAAY,EAAE,MAAMC,cAAc,CAAC,KAAD,CAFxC;AAGM,MAAA,MAAM,EAAE,SAHd;AAIM,MAAA,OAAO,EAAE,6HAJf;AAKM,MAAA,OAAO,EAAE,CACP;AACEsB,QAAAA,IAAI,EAAE,QADR;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OADO,EAKP;AACED,QAAAA,IAAI,EAAE,UADR;AAEEX,QAAAA,OAAO,EAAE,MAAM;AACbX,UAAAA,cAAc,CAAC,KAAD,CAAd;AACAE,UAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AALH,OALO;AALf;AAAA;AAAA;AAAA;AAAA,YAxBA,eA2CI,QAAC,QAAD;AACE,MAAA,MAAM,EAAED,WADV;AAEE,MAAA,YAAY,EAAE,MAAMC,cAAc,CAAC,KAAD,CAFpC;AAGE,MAAA,MAAM,EAAE,SAHV;AAIE,MAAA,OAAO,EAAE,gBAJX;AAKE,MAAA,OAAO,EAAE,CACP;AACEoB,QAAAA,IAAI,EAAE,IADR;AAEEC,QAAAA,QAAQ,EAAE;AAFZ,OADO,EAKP;AACED,QAAAA,IAAI,EAAE,KADR;AAEEX,QAAAA,OAAO,EAAE,MAAM;AACbT,UAAAA,cAAc,CAAC,KAAD,CAAd;AACAU,UAAAA,YAAY,CAACf,KAAK,CAACgB,EAAP,CAAZ;AACD;AALH,OALO;AALX;AAAA;AAAA;AAAA;AAAA,YA3CJ,eA8DE,QAAC,MAAD;AAAA,6BACE,QAAC,MAAD;AAAA,+BACE,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,WAAf;AAA2B,UAAA,MAAM,EAAE,IAAnC;AAAyC,UAAA,OAAO,EAAEF,OAAlD;AAAA,iCACE,QAAC,aAAD;AAAA,oCACE,QAAC,YAAD;AAAA,yBACGd,KAAK,CAAC2B,IADT,OACgB3B,KAAK,CAAC4B,OADtB;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE,QAAC,eAAD;AAAA,wBAAkB5B,KAAK,CAAC6B;AAAxB;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YA9DF;AAAA,kBADF;AA6ED,CA/GD;;GAAM9B,U;UAMSF,U;;;KANTE,U;AAiHN,eAAeA,UAAf","sourcesContent":["import {\n    IonAlert,\n  IonCard,\n  IonCardHeader,\n  IonCardSubtitle,\n  IonCardTitle,\n  IonCol,\n  IonLoading,\n  IonRow,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\n\nconst ClientCard: React.FC<{\n  complexName: any;\n  name: any;\n  surname: any;\n  id: any;\n}> = (props) => {\n  const path = useHistory();\n    const [showOptions, setShowOptions] = useState(false);\n    const [showConfirm, setShowConfirm] = useState(false);\n    const [showLoader, setShowLoader] = useState(false);\n    const [showSuccess, setShowSuccess] = useState(false);\n    const [showError, setShowError] = useState(false);\n    const [message, setMessage] = useState(\"\");\n\n    const handler = () => {\n        setShowOptions(true);\n    };\n    const deleteClient = (id: any) => {\n      setShowLoader(true);\n      let url = 'client/remove/'.concat(id);\n      Connection.processDeleteRequest({}, url, (response: any) => mapResponse(response))\n    };\n\n    const mapResponse = (response: any) => {\n      if (response.type === 'error'){\n        setShowLoader(false);\n        setMessage(response.data);\n        setShowError(true);\n      }else{\n        setShowLoader(false);\n        setMessage(response.data);\n        setShowSuccess(true);\n      }\n    };\n  return (\n    <>\n    <IonLoading\n        cssClass=\"my-custom-class\"\n        showBackdrop\n        isOpen={showLoader}\n        message={\"Please wait...\"}\n      />\n\n      <IonAlert\n        isOpen={showError}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Error\"}\n        subHeader={\"Something went wrong.\"}\n        message={message}\n        buttons={[\"OK\"]}\n      />\n\n      <IonAlert\n        isOpen={showSuccess}\n        onDidDismiss={() => path.replace(\"/clients\")}\n        header={\"Success\"}\n        subHeader={message}\n        buttons={[\"OK\"]}\n      />\n    <IonAlert\n          isOpen={showOptions}\n          onDidDismiss={() => setShowOptions(false)}\n          header={'Warning'}\n          message={'By removing this client, you are revoking their access to this application and permanently removing them from your system ?'}\n          buttons={[\n            {\n              text: \"Cancel\",\n              cssClass: \"secondary\",\n            },\n            {\n              text: \"Continue\",\n              handler: () => {\n                setShowOptions(false);\n                setShowConfirm(true);\n              },\n            },\n          ]}\n        />\n        <IonAlert\n          isOpen={showConfirm}\n          onDidDismiss={() => setShowConfirm(false)}\n          header={'Confirm'}\n          message={'Are you sure ?'}\n          buttons={[\n            {\n              text: \"No\",\n              cssClass: \"secondary\",\n            },\n            {\n              text: \"Yes\",\n              handler: () => {\n                setShowConfirm(false);\n                deleteClient(props.id);\n              },\n            },\n          ]}\n        />\n      <IonRow>\n        <IonCol>\n          <IonCard color=\"secondary\" button={true} onClick={handler}>\n            <IonCardHeader>\n              <IonCardTitle>\n                {props.name} {props.surname}\n              </IonCardTitle>\n              <IonCardSubtitle>{props.complexName}</IonCardSubtitle>\n            </IonCardHeader>\n          </IonCard>\n        </IonCol>\n      </IonRow>\n    </>\n  );\n};\n\nexport default ClientCard;\n"]},"metadata":{},"sourceType":"module"}