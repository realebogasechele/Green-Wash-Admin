{"ast":null,"code":"import _slicedToArray from\"/Users/onceknownriley/Documents/GreenWashProject/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonAlert,IonButton,IonCol,IonGrid,IonInput,IonItem,IonLabel,IonLoading,IonRow,useIonViewDidEnter}from\"@ionic/react\";import React,{useState}from\"react\";import{useHistory}from\"react-router\";import Connection from\"../../mixins/Connection\";import{validCellNum,validId,validName,validPassword,validPostalCode}from\"../Regex/Regex\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AgentForm=function AgentForm(props){useIonViewDidEnter(function(){if(props.name===\"Update\"){setShowLoader(true);getAgent();}});var path=useHistory();var _useState=useState({agentId:\"\",complexName:\"\",contractId:\"\",name:\"\",surname:\"\",id:\"\",cellNum:\"\",street1:\"\",street2:\"\",city:\"\",province:\"\",postalCode:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),agent=_useState2[0],setAgent=_useState2[1];var getAgent=function getAgent(){var url=\"agent/get/\".concat(props.id);Connection.processGetRequest({},url,function(response){mapAgent(response);});};var getComplexes=function getComplexes(){var url=\"complex/get/all/names\";Connection.processGetRequest({},url,function(response){return mapComplexResponse(response);});};var mapComplexResponse=function mapComplexResponse(response){if(response.type===\"error\"){setErrorMessage(response.data.data);setShowError(true);}else{setComplexes(response.data.data);}};var mapAgent=function mapAgent(response){if(response.type===\"error\"){setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);updateAgent(response.data.data);}};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showLoader=_useState4[0],setShowLoader=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showError=_useState6[0],setShowError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),successMessage=_useState10[0],setSuccessMessage=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showSuccess=_useState12[0],setShowSuccess=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),complexes=_useState14[0],setComplexes=_useState14[1];var _useState15=useState(agent.complexName),_useState16=_slicedToArray(_useState15,2),enteredComplexName=_useState16[0],setComplexName=_useState16[1];var _useState17=useState(agent.name),_useState18=_slicedToArray(_useState17,2),enteredName=_useState18[0],setName=_useState18[1];var _useState19=useState(agent.surname),_useState20=_slicedToArray(_useState19,2),enteredSurname=_useState20[0],setSurname=_useState20[1];var _useState21=useState(agent.id),_useState22=_slicedToArray(_useState21,2),enteredId=_useState22[0],setId=_useState22[1];var _useState23=useState(agent.cellNum),_useState24=_slicedToArray(_useState23,2),enteredCellNum=_useState24[0],setCellNum=_useState24[1];var _useState25=useState(agent.street1),_useState26=_slicedToArray(_useState25,2),enteredStreet1=_useState26[0],setStreet1=_useState26[1];var _useState27=useState(agent.street2),_useState28=_slicedToArray(_useState27,2),enteredStreet2=_useState28[0],setStreet2=_useState28[1];var _useState29=useState(agent.city),_useState30=_slicedToArray(_useState29,2),enteredCity=_useState30[0],setCity=_useState30[1];var _useState31=useState(agent.province),_useState32=_slicedToArray(_useState31,2),enteredProvince=_useState32[0],setProvince=_useState32[1];var _useState33=useState(agent.postalCode),_useState34=_slicedToArray(_useState33,2),enteredPostalCode=_useState34[0],setPostalCode=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),enteredPassword=_useState36[0],setPassword=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),enteredConfirm=_useState38[0],setConfirmPassword=_useState38[1];var updateAgent=function updateAgent(agent){return setAgent(agent);};var updateComplexName=function updateComplexName(complexName){return agent.complexName=complexName;};var updateName=function updateName(name){return agent.name=name;};var updateSurname=function updateSurname(surname){return agent.surname=surname;};var updateId=function updateId(id){return agent.id=id;};var updateCellNum=function updateCellNum(cellNum){return agent.cellNum=cellNum;};var updateStreet1=function updateStreet1(street1){return agent.street1=street1;};var updateStreet2=function updateStreet2(street2){return agent.street2=street2;};var updateCity=function updateCity(city){return agent.city=city;};var updateProvince=function updateProvince(province){return agent.province=province;};var updatePostalCode=function updatePostalCode(postalCode){return agent.postalCode=postalCode;};var updatePassword=function updatePassword(password){return agent.password=password;};var updateConfirm=function updateConfirm(cPassword){return setConfirmPassword(cPassword);};var buttonHandler=function buttonHandler(){if(props.name===\"Add\"){validateForm();}else if(props.name===\"Delete\"){var url=\"agent/remove/\".concat(agent.agentId);Connection.processPostRequest({},url,function(response){mapDeleteResponse(response);});}else{setShowLoader(true);validateForm();}};var mapDeleteResponse=function mapDeleteResponse(response){if(response.type==='error'){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setSuccessMessage(\"Agent Removed\");setShowSuccess(true);}};var mapResponse=function mapResponse(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{if(props.name===\"Update\"){setShowLoader(false);setSuccessMessage(\"Agent Details Updated!\");setShowSuccess(true);}else{setShowLoader(false);setSuccessMessage(\"Agent Details Captured!\");setShowSuccess(true);}}};var validateForm=function validateForm(){if(agent.name===\"\"||agent.surname===\"\"||agent.complexName===\"\"||agent.id===\"\"||agent.cellNum===\"\"||agent.street1===\"\"||agent.street2===\"\"||agent.city===\"\"||agent.province===\"\"||agent.postalCode===\"\"||agent.password===\"\"){setShowLoader(false);setErrorMessage(\"Fields must not be empty.\");setShowError(true);}else if(props.name===\"Add\"){if(agent.password!==enteredConfirm){setShowLoader(false);setErrorMessage(\"Passwords do not match. Please ensure they are entered correctly!\");setShowError(true);}else{if(!validName.test(agent.name)){setShowLoader(false);setErrorMessage(\"Invalid Name.\");setShowError(true);}else if(!validName.test(agent.surname)){setShowLoader(false);setErrorMessage(\"Invalid Surname.\");setShowError(true);}else if(!validName.test(agent.complexName)){setShowLoader(false);setErrorMessage(\"Invalid Complex Name.\");setShowError(true);}else if(!validId.test(agent.id)){setShowLoader(false);setErrorMessage(\"Invalid Id.\");setShowError(true);}else if(!validCellNum.test(agent.cellNum)){setShowLoader(false);setErrorMessage(\"Invalid Cell Number\");setShowError(true);}else if(!validName.test(agent.city)){setShowLoader(false);setErrorMessage(\"Invalid City\");setShowError(true);}else if(!validName.test(agent.province)){setShowLoader(false);setErrorMessage(\"Invalid Province.\");setShowError(true);}else if(!validPostalCode.test(agent.postalCode)){setShowLoader(false);setErrorMessage(\"Invalid Postal Code.\");setShowError(true);}else if(!validPassword.test(agent.password)){setShowLoader(false);setErrorMessage(\"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\");setShowError(true);}else{var url=\"agent/add\";var request={complexName:agent.complexName,contractId:\"\",name:agent.name,surname:agent.surname,id:agent.id,cellNum:agent.cellNum,street1:agent.street1,street2:agent.street2,city:agent.city,province:agent.province,postalCode:agent.postalCode,password:agent.password};Connection.processPostRequest(request,url,function(response){mapResponse(response);});}}}else{if(!validName.test(agent.name)){setShowLoader(false);setErrorMessage(\"Invalid Name.\");setShowError(true);}else if(!validName.test(agent.surname)){setShowLoader(false);setErrorMessage(\"Invalid Surname.\");setShowError(true);}else if(!validName.test(agent.complexName)){setShowLoader(false);setErrorMessage(\"Invalid Complex Name.\");setShowError(true);}else if(!validId.test(agent.id)){setShowLoader(false);setErrorMessage(\"Invalid Id.\");setShowError(true);}else if(!validCellNum.test(agent.cellNum)){setShowLoader(false);setErrorMessage(\"Invalid Cell Number\");setShowError(true);}else if(!validName.test(agent.city)){setShowLoader(false);setErrorMessage(\"Invalid City\");setShowError(true);}else if(!validName.test(agent.province)){setShowLoader(false);setErrorMessage(\"Invalid Province.\");setShowError(true);}else if(!validPostalCode.test(agent.postalCode)){setShowLoader(false);setErrorMessage(\"Invalid Postal Code.\");setShowError(true);}else if(!validPassword.test(agent.password)){setShowLoader(false);setErrorMessage(\"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\");setShowError(true);}else{if(props.name===\"Update\"){var _url=\"agent/update\";var payload={agentId:agent.agentId,complexName:agent.complexName,contractId:agent.contractId,name:agent.name,surname:agent.surname,id:agent.id,cellNum:agent.cellNum,street1:agent.street1,street2:agent.street2,city:agent.city,province:agent.province,postalCode:agent.postalCode,password:agent.password};Connection.processPostRequest(payload,_url,function(response){mapResponse(response);});}}}};return/*#__PURE__*/_jsxs(IonGrid,{children:[/*#__PURE__*/_jsx(IonLoading,{cssClass:\"my-custom-class\",showBackdrop:true,isOpen:showLoader,message:\"Please wait...\"}),/*#__PURE__*/_jsx(IonAlert,{isOpen:showError,onDidDismiss:function onDidDismiss(){return setShowError(false);},header:\"Error\",subHeader:\"Something went wrong.\",message:errorMessage,buttons:[\"OK\"]}),/*#__PURE__*/_jsx(IonAlert,{isOpen:showSuccess,onDidDismiss:function onDidDismiss(){return path.push(\"/page/Agent/agent\");},header:\"Success\",subHeader:successMessage,buttons:[\"OK\"]}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Name\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.name,onIonChange:function onIonChange(e){return updateName(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Surname\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.surname,onIonChange:function onIonChange(e){return updateSurname(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"ID\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.id,onIonChange:function onIonChange(e){return updateId(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Cell Number\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.cellNum,onIonChange:function onIonChange(e){return updateCellNum(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Street 1\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.street1,onIonChange:function onIonChange(e){return updateStreet1(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Street 2\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.street2,onIonChange:function onIonChange(e){return updateStreet2(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"City\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.city,onIonChange:function onIonChange(e){return updateCity(e.detail.value);}})]})})}),/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Province\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.province,onIonChange:function onIonChange(e){return updateProvince(e.detail.value);}})]})}),/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Postal code\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.postalCode,onIonChange:function onIonChange(e){return updatePostalCode(e.detail.value);}})]})})]}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Complex\"}),/*#__PURE__*/_jsx(IonInput,{disabled:props.isDisabled,value:agent.complexName,onIonChange:function onIonChange(e){return updateComplexName(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",disabled:props.isDisabled,value:agent.password,onIonChange:function onIonChange(e){return updatePassword(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\" Confirm Password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",disabled:props.name===\"Add\"?props.isDisabled:true,value:enteredConfirm,onIonChange:function onIonChange(e){return updateConfirm(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsx(IonButton,{shape:\"round\",type:\"submit\",expand:\"block\",onClick:buttonHandler,children:props.name})})})]});};export default AgentForm;","map":{"version":3,"sources":["/Users/onceknownriley/Documents/GreenWashProject/Admin/src/components/Forms/AgentForm.tsx"],"names":["IonAlert","IonButton","IonCol","IonGrid","IonInput","IonItem","IonLabel","IonLoading","IonRow","useIonViewDidEnter","React","useState","useHistory","Connection","validCellNum","validId","validName","validPassword","validPostalCode","AgentForm","props","name","setShowLoader","getAgent","path","agentId","complexName","contractId","surname","id","cellNum","street1","street2","city","province","postalCode","password","agent","setAgent","url","concat","processGetRequest","response","mapAgent","getComplexes","mapComplexResponse","type","setErrorMessage","data","setShowError","setComplexes","updateAgent","showLoader","showError","errorMessage","successMessage","setSuccessMessage","showSuccess","setShowSuccess","complexes","enteredComplexName","setComplexName","enteredName","setName","enteredSurname","setSurname","enteredId","setId","enteredCellNum","setCellNum","enteredStreet1","setStreet1","enteredStreet2","setStreet2","enteredCity","setCity","enteredProvince","setProvince","enteredPostalCode","setPostalCode","enteredPassword","setPassword","enteredConfirm","setConfirmPassword","updateComplexName","updateName","updateSurname","updateId","updateCellNum","updateStreet1","updateStreet2","updateCity","updateProvince","updatePostalCode","updatePassword","updateConfirm","cPassword","buttonHandler","validateForm","processPostRequest","mapDeleteResponse","mapResponse","test","request","payload","push","isDisabled","e","detail","value"],"mappings":"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","sourcesContent":["import {\n  IonAlert,\n  IonButton,\n  IonCol,\n  IonGrid,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonLoading,\n  IonRow,\n  useIonViewDidEnter,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\nimport {\n  validCellNum,\n  validId,\n  validName,\n  validPassword,\n  validPostalCode,\n} from \"../Regex/Regex\";\n\ninterface Agent {\n  complexName: string;\n  contractId: string;\n  name: string;\n  surname: string;\n  id: string;\n  cellNum: string;\n  street1: string;\n  street2: string;\n  city: string;\n  province: string;\n  postalCode: string;\n  password: string;\n}\n\nconst AgentForm: React.FC<{ name: string; isDisabled: boolean; id: string }> = (\n  props\n) => {\n  useIonViewDidEnter(() => {\n    if (props.name === \"Update\") {\n      setShowLoader(true);\n      getAgent();\n    }\n  });\n\n  const path = useHistory();\n  const [agent, setAgent] = useState({\n    agentId: \"\",\n    complexName: \"\",\n    contractId: \"\",\n    name: \"\",\n    surname: \"\",\n    id: \"\",\n    cellNum: \"\",\n    street1: \"\",\n    street2: \"\",\n    city: \"\",\n    province: \"\",\n    postalCode: \"\",\n    password: \"\",\n  });\n\n  const getAgent = () => {\n    var url = \"agent/get/\".concat(props.id);\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapAgent(response);\n    });\n  };\n\n  const getComplexes = () => {\n    let url = \"complex/get/all/names\";\n    Connection.processGetRequest({}, url, (response: any) =>\n      mapComplexResponse(response)\n    );\n  };\n\n  const mapComplexResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setErrorMessage(response.data.data);\n      setShowError(true);\n    } else {\n      setComplexes(response.data.data);\n    }\n  };\n\n  const mapAgent = (response: any) => {\n    if (response.type === \"error\") {\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      updateAgent(response.data.data);\n    }\n  };\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [complexes, setComplexes] = useState([]);\n\n  const [enteredComplexName, setComplexName] = useState(agent.complexName);\n  const [enteredName, setName] = useState(agent.name);\n  const [enteredSurname, setSurname] = useState(agent.surname);\n  const [enteredId, setId] = useState(agent.id);\n  const [enteredCellNum, setCellNum] = useState(agent.cellNum);\n  const [enteredStreet1, setStreet1] = useState(agent.street1);\n  const [enteredStreet2, setStreet2] = useState(agent.street2);\n  const [enteredCity, setCity] = useState(agent.city);\n  const [enteredProvince, setProvince] = useState(agent.province);\n  const [enteredPostalCode, setPostalCode] = useState(agent.postalCode);\n  const [enteredPassword, setPassword] = useState(\"\");\n  const [enteredConfirm, setConfirmPassword] = useState(\"\");\n\n  const updateAgent = (agent: any) => setAgent(agent);\n\n  const updateComplexName = (complexName: any) =>\n    (agent.complexName = complexName);\n  const updateName = (name: any) => (agent.name = name);\n  const updateSurname = (surname: any) => (agent.surname = surname);\n  const updateId = (id: any) => (agent.id = id);\n  const updateCellNum = (cellNum: any) => (agent.cellNum = cellNum);\n  const updateStreet1 = (street1: any) => (agent.street1 = street1);\n  const updateStreet2 = (street2: any) => (agent.street2 = street2);\n  const updateCity = (city: any) => (agent.city = city);\n  const updateProvince = (province: any) => (agent.province = province);\n  const updatePostalCode = (postalCode: any) => (agent.postalCode = postalCode);\n  const updatePassword = (password: any) => (agent.password = password);\n  const updateConfirm = (cPassword: any) => setConfirmPassword(cPassword);\n\n  const buttonHandler = () => {\n    if (props.name === \"Add\") {\n      validateForm();\n    } else if (props.name === \"Delete\") {\n      let url = \"agent/remove/\".concat(agent.agentId);\n      Connection.processPostRequest({}, url, (response: any) => {\n        mapDeleteResponse(response);\n      })\n    } else {\n      setShowLoader(true);\n      validateForm();\n    }\n  };\n\n  const mapDeleteResponse = (response: any) => {\n    if(response.type === 'error'){\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    }else{\n        setShowLoader(false);\n        setSuccessMessage(\"Agent Removed\");\n        setShowSuccess(true);\n    }\n  };\n\n  const mapResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      if (props.name === \"Update\") {\n        setShowLoader(false);\n        setSuccessMessage(\"Agent Details Updated!\");\n        setShowSuccess(true);\n      } else {\n        setShowLoader(false);\n        setSuccessMessage(\"Agent Details Captured!\");\n        setShowSuccess(true);\n      }\n    }\n  };\n\n  const validateForm = () => {\n    if (\n      agent.name === \"\" ||\n      agent.surname === \"\" ||\n      agent.complexName === \"\" ||\n      agent.id === \"\" ||\n      agent.cellNum === \"\" ||\n      agent.street1 === \"\" ||\n      agent.street2 === \"\" ||\n      agent.city === \"\" ||\n      agent.province === \"\" ||\n      agent.postalCode === \"\" ||\n      agent.password === \"\"\n    ) {\n      setShowLoader(false);\n      setErrorMessage(\"Fields must not be empty.\");\n      setShowError(true);\n    } \n    else if (props.name === \"Add\") {\n      if (agent.password !== enteredConfirm) {\n        setShowLoader(false);\n        setErrorMessage(\n          \"Passwords do not match. Please ensure they are entered correctly!\"\n        );\n        setShowError(true);\n      } else {\n        if (!validName.test(agent.name)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid Name.\");\n          setShowError(true);\n        } else if (!validName.test(agent.surname)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid Surname.\");\n          setShowError(true);\n        } else if (!validName.test(agent.complexName)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid Complex Name.\");\n          setShowError(true);\n        } else if (!validId.test(agent.id)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid Id.\");\n          setShowError(true);\n        } else if (!validCellNum.test(agent.cellNum)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid Cell Number\");\n          setShowError(true);\n        } else if (!validName.test(agent.city)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid City\");\n          setShowError(true);\n        } else if (!validName.test(agent.province)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid Province.\");\n          setShowError(true);\n        } else if (!validPostalCode.test(agent.postalCode)) {\n          setShowLoader(false);\n          setErrorMessage(\"Invalid Postal Code.\");\n          setShowError(true);\n        } else if (!validPassword.test(agent.password)) {\n          setShowLoader(false);\n          setErrorMessage(\n            \"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\"\n          );\n          setShowError(true);\n        } else {\n          let url = \"agent/add\";\n          var request = {\n            complexName: agent.complexName,\n            contractId: \"\",\n            name: agent.name,\n            surname: agent.surname,\n            id: agent.id,\n            cellNum: agent.cellNum,\n            street1: agent.street1,\n            street2: agent.street2,\n            city: agent.city,\n            province: agent.province,\n            postalCode: agent.postalCode,\n            password: agent.password,\n          };\n          Connection.processPostRequest(request, url, (response: any) => {\n            mapResponse(response);\n          });\n        }\n      }\n    } else {\n      if (!validName.test(agent.name)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Name.\");\n        setShowError(true);\n      } else if (!validName.test(agent.surname)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Surname.\");\n        setShowError(true);\n      } else if (!validName.test(agent.complexName)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Complex Name.\");\n        setShowError(true);\n      } else if (!validId.test(agent.id)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Id.\");\n        setShowError(true);\n      } else if (!validCellNum.test(agent.cellNum)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Cell Number\");\n        setShowError(true);\n      } else if (!validName.test(agent.city)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid City\");\n        setShowError(true);\n      } else if (!validName.test(agent.province)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Province.\");\n        setShowError(true);\n      } else if (!validPostalCode.test(agent.postalCode)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Postal Code.\");\n        setShowError(true);\n      } else if (!validPassword.test(agent.password)) {\n        setShowLoader(false);\n        setErrorMessage(\n          \"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\"\n        );\n        setShowError(true);\n      } else {\n        if (props.name === \"Update\") {\n          let url = \"agent/update\";\n          var payload = {\n            agentId: agent.agentId,\n            complexName: agent.complexName,\n            contractId: agent.contractId,\n            name: agent.name,\n            surname: agent.surname,\n            id: agent.id,\n            cellNum: agent.cellNum,\n            street1: agent.street1,\n            street2: agent.street2,\n            city: agent.city,\n            province: agent.province,\n            postalCode: agent.postalCode,\n            password: agent.password,\n          };\n          Connection.processPostRequest(payload, url, (response: any) => {\n            mapResponse(response);\n          });\n        }\n      }\n    }\n  };\n\n  return (\n    <IonGrid>\n      <IonLoading\n        cssClass=\"my-custom-class\"\n        showBackdrop\n        isOpen={showLoader}\n        message={\"Please wait...\"}\n      />\n\n      <IonAlert\n        isOpen={showError}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Error\"}\n        subHeader={\"Something went wrong.\"}\n        message={errorMessage}\n        buttons={[\"OK\"]}\n      />\n\n      <IonAlert\n        isOpen={showSuccess}\n        onDidDismiss={() => path.push(\"/page/Agent/agent\")}\n        header={\"Success\"}\n        subHeader={successMessage}\n        buttons={[\"OK\"]}\n      />\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Name</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.name}\n              onIonChange={(e) => updateName(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Surname</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.surname}\n              onIonChange={(e) => updateSurname(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">ID</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.id}\n              onIonChange={(e) => updateId(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Cell Number</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.cellNum}\n              onIonChange={(e) => updateCellNum(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Street 1</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.street1}\n              onIonChange={(e) => updateStreet1(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Street 2</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.street2}\n              onIonChange={(e) => updateStreet2(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">City</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.city}\n              onIonChange={(e) => updateCity(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Province</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.province}\n              onIonChange={(e) => updateProvince(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Postal code</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.postalCode}\n              onIonChange={(e) => updatePostalCode(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Complex</IonLabel>\n            <IonInput\n              disabled={props.isDisabled}\n              value={agent.complexName}\n              onIonChange={(e) => updateComplexName(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              disabled={props.isDisabled}\n              value={agent.password}\n              onIonChange={(e) => updatePassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\"> Confirm Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              disabled={props.name === \"Add\" ? props.isDisabled : true}\n              value={enteredConfirm}\n              onIonChange={(e) => updateConfirm(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonButton\n            shape=\"round\"\n            type=\"submit\"\n            expand=\"block\"\n            onClick={buttonHandler}\n          >\n            {props.name}\n          </IonButton>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  );\n};\n\nexport default AgentForm;\n"]},"metadata":{},"sourceType":"module"}