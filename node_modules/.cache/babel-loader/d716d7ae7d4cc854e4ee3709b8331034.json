{"ast":null,"code":"import _slicedToArray from\"/Users/onceknownriley/Dev/Ionic-React/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonAlert,IonButton,IonCol,IonGrid,IonInput,IonItem,IonLabel,IonLoading,IonRow}from\"@ionic/react\";import React,{useState}from\"react\";import{useHistory}from\"react-router\";import Connection from\"../../mixins/Connection\";import{validCellNum,validPassword,validName}from\"../Regex/Regex\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminForm=function AdminForm(props){var _props$content=props.content,adminId=_props$content.adminId,name=_props$content.name,surname=_props$content.surname,cellNum=_props$content.cellNum,password=_props$content.password;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoader=_useState2[0],setShowLoader=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showError=_useState4[0],setShowError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),successMessage=_useState8[0],setSuccessMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showSuccess=_useState10[0],setShowSuccess=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isFormValid=_useState12[0],setIsFormValid=_useState12[1];var _useState13=useState(name),_useState14=_slicedToArray(_useState13,2),enteredName=_useState14[0],setEnteredName=_useState14[1];var _useState15=useState(surname),_useState16=_slicedToArray(_useState15,2),enteredSurname=_useState16[0],setEnteredSurname=_useState16[1];var _useState17=useState(cellNum),_useState18=_slicedToArray(_useState17,2),enteredCellNum=_useState18[0],setEnteredCellNum=_useState18[1];var _useState19=useState(password),_useState20=_slicedToArray(_useState19,2),enteredPassword=_useState20[0],setEnteredPassword=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),confirmPassword=_useState22[0],setConfirmPassword=_useState22[1];var updateName=function updateName(name){setEnteredName(name);};var updateSurname=function updateSurname(surname){setEnteredSurname(surname);};var updateCellNum=function updateCellNum(cellNum){setEnteredCellNum(cellNum);};var updatePassword=function updatePassword(password){setEnteredPassword(password);};var updateConfirmPassword=function updateConfirmPassword(confirmPassword){setConfirmPassword(confirmPassword);};var path=useHistory();if(props.buttonName===\"Update\"){}else{}var buttonHandler=function buttonHandler(){//validateForm();\n//if (isFormValid === true) {\nif(props.buttonName===\"Update\"){var url=\"update\";var payload={adminId:adminId,name:enteredName,surname:enteredSurname,cellNum:enteredCellNum,password:enteredPassword};Connection.processPostRequest(payload,url,function(response){mapUpdateResponse(response);});}else if(props.buttonName===\"Delete\"){setShowLoader(false);var _path=\"remove/\";console.log(_path);}else{var _url=\"signUp\";var _payload={adminId:adminId,name:enteredName,surname:enteredSurname,cellNum:enteredCellNum,password:enteredPassword};Connection.processPostRequest(_payload,_url,function(response){mapPostResponse(response);});}//}\n};var mapUpdateResponse=function mapUpdateResponse(response){setShowLoader(false);if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setSuccessMessage(\"Profile Updated!\");setShowSuccess(true);}};var mapPostResponse=function mapPostResponse(response){setShowLoader(false);if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setSuccessMessage(\"Details Successfully Captured!\");setShowSuccess(true);}};var validateForm=function validateForm(){if(enteredName===\"\"||enteredSurname===\"\"||enteredCellNum===\"\"||enteredPassword===\"\"){setShowLoader(false);setErrorMessage(\"Fields must not be left empty.\");setShowError(true);setIsFormValid(false);}else if(enteredPassword!==confirmPassword){setShowLoader(false);setErrorMessage(\"Passwords do not match. Please ensure they are entered correctly!\");setShowError(true);setIsFormValid(false);}else{if(!validName.test(enteredName)){setShowLoader(false);setErrorMessage(\"Invalid Name.\");setShowError(true);setIsFormValid(false);}else if(!validName.test(enteredSurname)){setShowLoader(false);setErrorMessage(\"Invalid Surname.\");setShowError(true);setIsFormValid(false);}else if(!validCellNum.test(enteredCellNum)){setShowLoader(false);setErrorMessage(\"Invalid Cell Number.\");setShowError(true);setIsFormValid(false);}else if(!validPassword.test(enteredPassword)){setShowLoader(false);setErrorMessage(\"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\");setShowError(true);setIsFormValid(false);}else{setIsFormValid(true);}}};return/*#__PURE__*/_jsxs(IonGrid,{children:[/*#__PURE__*/_jsx(IonLoading,{cssClass:\"my-custom-class\",showBackdrop:true,isOpen:showLoader,message:\"Please wait...\"}),/*#__PURE__*/_jsx(IonAlert,{isOpen:showError,onDidDismiss:function onDidDismiss(){return setShowError(false);},header:\"Error\",subHeader:\"Something went wrong.\",message:errorMessage,buttons:[\"OK\"]}),/*#__PURE__*/_jsx(IonAlert,{isOpen:showSuccess,onDidDismiss:function onDidDismiss(){return path.push(\"/signIn\");},header:\"Success\",subHeader:successMessage,buttons:[\"OK\"]}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Name\"}),/*#__PURE__*/_jsx(IonInput,{type:\"text\",value:enteredName,onIonChange:function onIonChange(e){return updateName(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Surname\"}),/*#__PURE__*/_jsx(IonInput,{type:\"text\",value:enteredSurname,onIonChange:function onIonChange(e){return updateSurname(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Cell Number\"}),/*#__PURE__*/_jsx(IonInput,{type:\"text\",value:enteredCellNum,onIonChange:function onIonChange(e){return updateCellNum(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",value:enteredPassword,onIonChange:function onIonChange(e){return updatePassword(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Confrim Password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",value:confirmPassword,onIonChange:function onIonChange(e){return updateConfirmPassword(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsx(IonButton,{shape:\"round\",type:\"submit\",expand:\"block\",onClick:buttonHandler,children:props.buttonName})})})]});};export default AdminForm;","map":{"version":3,"sources":["/Users/onceknownriley/Dev/Ionic-React/admin/src/components/Forms/AdminForm.tsx"],"names":["IonAlert","IonButton","IonCol","IonGrid","IonInput","IonItem","IonLabel","IonLoading","IonRow","React","useState","useHistory","Connection","validCellNum","validPassword","validName","AdminForm","props","content","adminId","name","surname","cellNum","password","showLoader","setShowLoader","showError","setShowError","errorMessage","setErrorMessage","successMessage","setSuccessMessage","showSuccess","setShowSuccess","isFormValid","setIsFormValid","enteredName","setEnteredName","enteredSurname","setEnteredSurname","enteredCellNum","setEnteredCellNum","enteredPassword","setEnteredPassword","confirmPassword","setConfirmPassword","updateName","updateSurname","updateCellNum","updatePassword","updateConfirmPassword","path","buttonName","buttonHandler","url","payload","processPostRequest","response","mapUpdateResponse","console","log","mapPostResponse","type","data","validateForm","test","push","e","detail","value"],"mappings":"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","sourcesContent":["import {\n  IonAlert,\n  IonButton,\n  IonCol,\n  IonGrid,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonLoading,\n  IonRow,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\n\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\n\ninterface Admin {\n  adminId: string;\n  name: string;\n  surname: string;\n  cellNum: string;\n  password: string;\n}\n\nconst AdminForm: React.FC<{ buttonName: string; content: Admin }> = (props) => {\n  const { adminId, name, surname, cellNum, password } = props.content;\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  const [enteredName, setEnteredName] = useState(name);\n  const [enteredSurname, setEnteredSurname] = useState(surname);\n  const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n  const [enteredPassword, setEnteredPassword] = useState(password);\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updateName = (name: any) => {\n    setEnteredName(name);\n  };\n  const updateSurname = (surname: any) => {\n    setEnteredSurname(surname);\n  };\n  const updateCellNum = (cellNum: any) => {\n    setEnteredCellNum(cellNum);\n  };\n  const updatePassword = (password: any) => {\n    setEnteredPassword(password);\n  };\n  const updateConfirmPassword = (confirmPassword: any) => {\n    setConfirmPassword(confirmPassword);\n  };\n\n  let path = useHistory();\n\n  if (props.buttonName === \"Update\") {\n  } else {\n  }\n\n  const buttonHandler = () => {\n    //validateForm();\n    //if (isFormValid === true) {\n      if (props.buttonName === \"Update\") {\n        let url = \"update\";\n\n        let payload = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword,\n        };\n        Connection.processPostRequest(payload, url, (response: any) => {\n          mapUpdateResponse(response);\n        });\n\n      } else if (props.buttonName === \"Delete\") {\n        setShowLoader(false);\n        let path = \"remove/\";\n        console.log(path);\n      } else {\n        let url = \"signUp\";\n        let payload = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword,\n        };\n\n        Connection.processPostRequest(payload, url, (response: any) => {\n          mapPostResponse(response);\n        });\n      }\n    //}\n  };\n\n  const mapUpdateResponse = (response: any) => {\n    setShowLoader(false);\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Profile Updated!\");\n      setShowSuccess(true);\n    }\n  };\n\n  const mapPostResponse = (response: any) => {\n    setShowLoader(false);\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Details Successfully Captured!\");\n      setShowSuccess(true);\n    }\n  };\n\n  const validateForm = () => {\n    if (\n      enteredName === \"\" ||\n      enteredSurname === \"\" ||\n      enteredCellNum === \"\" ||\n      enteredPassword === \"\"\n    ) {\n      setShowLoader(false);\n      setErrorMessage(\"Fields must not be left empty.\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else if (enteredPassword !== confirmPassword) {\n      setShowLoader(false);\n      setErrorMessage(\n        \"Passwords do not match. Please ensure they are entered correctly!\"\n      );\n      setShowError(true);\n      setIsFormValid(false);\n    } else {\n      if (!validName.test(enteredName)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Name.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validName.test(enteredSurname)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Surname.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validCellNum.test(enteredCellNum)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Cell Number.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validPassword.test(enteredPassword)) {\n        setShowLoader(false);\n        setErrorMessage(\n          \"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\"\n        );\n        setShowError(true);\n        setIsFormValid(false);\n      } else {\n        setIsFormValid(true);\n      }\n    }\n  };\n  return (\n    <IonGrid>\n      <IonLoading\n        cssClass=\"my-custom-class\"\n        showBackdrop\n        isOpen={showLoader}\n        message={\"Please wait...\"}\n      />\n\n      <IonAlert\n        isOpen={showError}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Error\"}\n        subHeader={\"Something went wrong.\"}\n        message={errorMessage}\n        buttons={[\"OK\"]}\n      />\n\n      <IonAlert\n        isOpen={\n         showSuccess\n        }\n        onDidDismiss={\n            () => path.push(\"/signIn\")\n        }\n        header={\"Success\"}\n        subHeader={successMessage}\n        buttons={[\"OK\"]}\n      />\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Name</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredName}\n              onIonChange={(e) => updateName(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Surname</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredSurname}\n              onIonChange={(e) => updateSurname(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Cell Number</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredCellNum}\n              onIonChange={(e) => updateCellNum(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              value={enteredPassword}\n              onIonChange={(e) => updatePassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Confrim Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              value={confirmPassword}\n              onIonChange={(e) => updateConfirmPassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonButton\n            shape=\"round\"\n            type=\"submit\"\n            expand=\"block\"\n            onClick={buttonHandler}\n          >\n            {props.buttonName}\n          </IonButton>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  );\n};\n\nexport default AdminForm;\n"]},"metadata":{},"sourceType":"module"}