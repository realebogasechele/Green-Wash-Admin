{"ast":null,"code":"import _slicedToArray from\"/Users/onceknownriley/Documents/GreenWashProject/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/** @jsxImportSource theme-ui */import{IonAlert,IonButtons,IonContent,IonGrid,IonHeader,IonIcon,IonLoading,IonMenuButton,IonPage,IonRow,IonTitle,IonToolbar,useIonViewWillEnter}from\"@ionic/react\";import{informationCircle}from\"ionicons/icons\";import React,{useState}from\"react\";import ClientCard from\"../../components/Card/ClientCard\";import Connection from\"../../mixins/Connection\";import{jsx as _jsx}from\"theme-ui/jsx-runtime\";import{jsxs as _jsxs}from\"theme-ui/jsx-runtime\";var Clients=function Clients(){useIonViewWillEnter(function(){getClients();});var getClients=function getClients(){setShowLoader(true);var url='client/get/all';Connection.processGetRequest({},url,function(response){return mapResponse(response);});};var mapResponse=function mapResponse(response){if(response.type==='error'){setShowLoader(false);setMessage(response.data);setShowError(true);}else{setClients(response.data.data);setShowLoader(false);}};var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showLoader=_useState2[0],setShowLoader=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showError=_useState4[0],setShowError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState([{clientId:\"\",complexName:\"Park Square\",name:\"Justin\",surname:\"Gabriel\",cellNum:\"\",email:\"\",password:\"\",deviceId:\"\",otp:\"\"}]),_useState8=_slicedToArray(_useState7,2),clients=_useState8[0],setClients=_useState8[1];return _jsxs(IonPage,{children:[_jsx(IonAlert,{isOpen:showError,onDidDismiss:function onDidDismiss(){return setShowError(false);},header:'Error',subHeader:'Something went wrong.',message:message,buttons:['OK']}),_jsx(IonLoading,{cssClass:\"my-custom-class\",showBackdrop:true,isOpen:showLoader,message:'Please wait...'}),_jsx(IonHeader,{children:_jsxs(IonToolbar,{color:\"primary\",children:[_jsx(IonButtons,{slot:\"start\",children:_jsx(IonMenuButton,{})}),_jsx(IonTitle,{children:\"Client Management\"})]})}),_jsx(IonContent,{children:_jsxs(IonGrid,{children:[clients[0].clientId!==\"\"&&_jsx(IonRow,{sx:styles.row,children:_jsxs(\"h2\",{sx:styles.heading.info,children:[_jsx(IonIcon,{icon:informationCircle,sx:styles.icon}),\"Click on a card if you would like to remove a client\"]})}),clients[0].clientId!==\"\"&&clients.map(function(client){return _jsx(ClientCard,{id:client.clientId,name:client.name,surname:client.surname,complexName:client.complexName},client.clientId);}),clients[0].clientId===\"\"&&_jsx(\"h2\",{sx:styles.heading,children:\"No Clients\"})]})})]});};export default Clients;var styles={row:{m:'3',mt:'0',mb:'0',p:'2',pt:'0',opacity:'0.6'},heading:{display:\"flex\",justifyContent:\"center\",color:\"grey\",mt:\"40vh\",opacity:\"0.5\",info:{display:\"flex\",justifyContent:\"center\",color:\"grey\",fontSize:\"15px\"}},icon:{pr:\"1vh\",pt:\"2px\",size:\"30px\"}};","map":{"version":3,"sources":["/Users/onceknownriley/Documents/GreenWashProject/Admin/src/pages/Clients/Clients.tsx"],"names":["IonAlert","IonButtons","IonContent","IonGrid","IonHeader","IonIcon","IonLoading","IonMenuButton","IonPage","IonRow","IonTitle","IonToolbar","useIonViewWillEnter","informationCircle","React","useState","ClientCard","Connection","Clients","getClients","setShowLoader","url","processGetRequest","response","mapResponse","type","setMessage","data","setShowError","setClients","showLoader","showError","message","clientId","complexName","name","surname","cellNum","email","password","deviceId","otp","clients","styles","row","heading","info","icon","map","client","m","mt","mb","p","pt","opacity","display","justifyContent","color","fontSize","pr","size"],"mappings":"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","sourcesContent":["/** @jsxImportSource theme-ui */\nimport {\n    IonAlert,\n  IonButtons,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonIcon,\n  IonLoading,\n  IonMenuButton,\n  IonPage,\n  IonRow,\n  IonTitle,\n  IonToolbar,\n  useIonViewWillEnter,\n} from \"@ionic/react\";\nimport { informationCircle } from \"ionicons/icons\";\nimport React, { useState } from \"react\";\nimport ClientCard from \"../../components/Card/ClientCard\";\nimport Connection from \"../../mixins/Connection\";\n\nconst Clients: React.FC = () => {\n    useIonViewWillEnter(()=>{\n        getClients();\n    })\n    const getClients = () => {\n        setShowLoader(true);\n        let url = 'client/get/all';\n        Connection.processGetRequest({}, url, (response: any) => mapResponse(response))\n    };\n    const mapResponse = (response: any) => {\n        if(response.type === 'error'){\n            setShowLoader(false);\n            setMessage(response.data);\n            setShowError(true);\n        }else{\n            setClients(response.data.data);\n            setShowLoader(false);\n        }\n    };\n\n    const [showLoader, setShowLoader] = useState(true);\n    const [showError, setShowError] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const [clients, setClients] = useState([\n    {\n      clientId: \"\",\n      complexName: \"Park Square\",\n      name: \"Justin\",\n      surname: \"Gabriel\",\n      cellNum: \"\",\n      email: \"\",\n      password: \"\",\n      deviceId: \"\",\n      otp: \"\",\n    },\n  ]);\n  return (\n    <IonPage>\n        <IonAlert\n          isOpen={showError}\n          onDidDismiss={() => setShowError(false)}\n          header={'Error'}\n          subHeader={'Something went wrong.'}\n          message={message}\n          buttons={['OK']}\n        />\n        <IonLoading\n            cssClass='my-custom-class'\n            showBackdrop\n            isOpen={showLoader}\n            message={'Please wait...'}\n          />\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>Client Management</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonGrid>\n          {clients[0].clientId !== \"\" && (\n            <IonRow sx={styles.row}>\n              <h2 sx={styles.heading.info}>\n                <IonIcon icon={informationCircle} sx={styles.icon} />\n                Click on a card if you would like to remove a client\n              </h2>\n            </IonRow>\n          )}\n          {clients[0].clientId !== \"\" &&\n            clients.map((client) => (\n              <ClientCard\n                key={client.clientId}\n                id={client.clientId}\n                name={client.name}\n                surname={client.surname}\n                complexName={client.complexName}\n              />\n            ))}\n          {clients[0].clientId === \"\" && (\n            <h2 sx={styles.heading}>No Clients</h2>\n          )}\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Clients;\n\nconst styles = {\n  row: {\n      m: '3',\n      mt: '0',\n      mb: '0',\n      p:'2',\n      pt:'0',\n      opacity: '0.6'\n  },\n  heading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    color: \"grey\",\n    mt: \"40vh\",\n    opacity: \"0.5\",\n\n    info: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      color: \"grey\",\n      fontSize: \"15px\",\n    },\n  },\n  icon: {\n    pr: \"1vh\",\n    pt: \"2px\",\n    size: \"30px\",\n  },\n};\n"]},"metadata":{},"sourceType":"module"}