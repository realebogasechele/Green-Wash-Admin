{"ast":null,"code":"import _slicedToArray from\"/Users/onceknownriley/Dev/Ionic-React/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonAlert,IonButtons,IonContent,IonFab,IonFabButton,IonHeader,IonIcon,IonLoading,IonMenuButton,IonPage,IonTitle,IonToolbar,useIonViewWillEnter}from\"@ionic/react\";import{add}from\"ionicons/icons\";import{useState}from\"react\";import{useParams}from\"react-router\";import Card from\"../../components/Card/Card\";import Connection from\"../../mixins/Connection\";import\"./Page.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Management=function Management(){var cards;var addUrl=\"/add/\";var _useParams=useParams(),name=_useParams.name,title=_useParams.title;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showLoader=_useState2[0],setShowLoader=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showError=_useState4[0],setShowError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var _useState7=useState([{agentId:\"\",complexName:\"\",contractId:\"\",name:\"\",surname:\"\",id:\"\",cellNum:\"\",street1:\"\",street2:\"\",city:\"\",province:\"\",postalCode:\"\",password:\"\"}]),_useState8=_slicedToArray(_useState7,2),agents=_useState8[0],setAgents=_useState8[1];var _useState9=useState([{complexId:\"\",complexName:\"\",street1:\"\",street2:\"\",city:\"\",province:\"\",postalCode:\"\",telephoneNum:\"\",startTime:\"\",endTime:\"\",cellNum:\"\",units:[],agents:[]}]),_useState10=_slicedToArray(_useState9,2),complexes=_useState10[0],setComplexes=_useState10[1];var _useState11=useState([{packageId:\"\",promotionId:\"\",packageName:\"\",minutes:0,standardPrice:\"\",suvPrice:\"\",description:\"\",onPromotion:false}]),_useState12=_slicedToArray(_useState11,2),packages=_useState12[0],setPackages=_useState12[1];var _useState13=useState([{promotionId:\"\",promotionName:\"\",packageName:\"\",standardPrice:\"\",suvPrice:\"\",isEnabled:false}]),_useState14=_slicedToArray(_useState13,2),promotions=_useState14[0],setPromotions=_useState14[1];useIonViewWillEnter(function(){getAgents();getComplexes();getPackages();getPromotions();});var getAgents=function getAgents(){setShowLoader(true);var url=\"agent/get/all\";Connection.processGetRequest({},url,function(response){mapAgents(response);});};var getComplexes=function getComplexes(){setShowLoader(true);var url=\"complex/get/all\";Connection.processGetRequest({},url,function(response){mapComplexes(response);});};var getPackages=function getPackages(){setShowLoader(true);var url=\"package/get/all\";Connection.processGetRequest({},url,function(response){mapPackages(response);});};var getPromotions=function getPromotions(){setShowLoader(true);var url=\"promotion/get/all\";Connection.processGetRequest({},url,function(response){mapPromotions(response);});};var mapPackages=function mapPackages(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setPackages(response.data.data);}};var mapAgents=function mapAgents(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setAgents(response.data.data);}};var mapComplexes=function mapComplexes(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setComplexes(response.data.data);}};var mapPromotions=function mapPromotions(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setPromotions(response.data.data);}};return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsxs(IonHeader,{children:[/*#__PURE__*/_jsxs(IonToolbar,{color:\"primary\",children:[/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsx(IonMenuButton,{})}),/*#__PURE__*/_jsx(IonTitle,{children:name.concat(\" Management\")})]}),/*#__PURE__*/_jsx(IonAlert,{isOpen:showError,onDidDismiss:function onDidDismiss(){return setShowError(false);},header:'Error',subHeader:'Something went wrong.',message:errorMessage,buttons:['OK']})]}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,children:[/*#__PURE__*/_jsx(IonLoading,{cssClass:\"my-custom-class\",showBackdrop:true,isOpen:showLoader,message:'Please wait...'}),title===\"agent\"&&agents.length!==0&&agents.map(function(agent){return/*#__PURE__*/_jsx(Card,{type:title,id:agent.agentId,title:agent.name.concat(\" \",agent.surname),subtitle:agent.complexName,reference:name},agent.agentId);}),title===\"agent\"&&agents.length===0&&/*#__PURE__*/_jsx(\"h2\",{children:\"No Agents\"}),title===\"complex\"&&complexes.length!==0&&complexes.map(function(complex){return/*#__PURE__*/_jsx(Card,{type:title,id:complex.complexId,title:complex.complexName,subtitle:complex.street2,reference:name},complex.complexId);}),title===\"complex\"&&complexes.length===0&&/*#__PURE__*/_jsx(\"h2\",{children:\"No Complexes\"}),title===\"package\"&&packages.length!==0&&packages.map(function(pack){return/*#__PURE__*/_jsx(Card,{type:title,id:pack.packageId,title:pack.packageName,subtitle:pack.description,reference:name},pack.packageId);}),title===\"package\"&&packages.length===0&&/*#__PURE__*/_jsx(\"h2\",{children:\"No Packages\"}),title===\"promotion\"&&promotions.length!==0&&promotions.map(function(promotion){return/*#__PURE__*/_jsx(Card,{type:title,id:promotion.promotionId,title:promotion.promotionName,subtitle:promotion.packageName,reference:name},promotion.promotionId);}),title===\"promotion\"&&promotions.length===0&&/*#__PURE__*/_jsx(\"h2\",{children:\"No Promotions\"}),/*#__PURE__*/_jsx(IonFab,{vertical:\"bottom\",horizontal:\"end\",slot:\"fixed\",children:/*#__PURE__*/_jsx(IonFabButton,{href:addUrl.concat(name,\"/\",title),children:/*#__PURE__*/_jsx(IonIcon,{icon:add})})})]})]});};export default Management;","map":{"version":3,"sources":["/Users/onceknownriley/Dev/Ionic-React/admin/src/pages/Management/Management.tsx"],"names":["IonAlert","IonButtons","IonContent","IonFab","IonFabButton","IonHeader","IonIcon","IonLoading","IonMenuButton","IonPage","IonTitle","IonToolbar","useIonViewWillEnter","add","useState","useParams","Card","Connection","Management","cards","addUrl","name","title","showLoader","setShowLoader","showError","setShowError","errorMessage","setErrorMessage","agentId","complexName","contractId","surname","id","cellNum","street1","street2","city","province","postalCode","password","agents","setAgents","complexId","telephoneNum","startTime","endTime","units","complexes","setComplexes","packageId","promotionId","packageName","minutes","standardPrice","suvPrice","description","onPromotion","packages","setPackages","promotionName","isEnabled","promotions","setPromotions","getAgents","getComplexes","getPackages","getPromotions","url","processGetRequest","response","mapAgents","mapComplexes","mapPackages","mapPromotions","type","data","concat","length","map","agent","complex","pack","promotion"],"mappings":"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","sourcesContent":["import {\n  IonAlert,\n  IonButtons,\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonHeader,\n  IonIcon,\n  IonLoading,\n  IonMenuButton,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  useIonViewDidEnter,\n  useIonViewDidLeave,\n  useIonViewWillEnter,\n} from \"@ionic/react\";\nimport { add } from \"ionicons/icons\";\nimport { useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport Card from \"../../components/Card/Card\";\nimport Connection from \"../../mixins/Connection\";\nimport \"./Page.css\";\n\nconst Management: React.FC = () => {\n  let cards;\n\n  const addUrl = \"/add/\";\n\n  const { name, title } =\n    useParams<{\n      name: string;\n      title: \"agent\" | \"complex\" | \"package\" | \"promotion\";\n    }>();\n\n  const [showLoader, setShowLoader] = useState(true);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [agents, setAgents] = useState([\n    {\n      agentId: \"\",\n      complexName: \"\",\n      contractId: \"\",\n      name: \"\",\n      surname: \"\",\n      id: \"\",\n      cellNum: \"\",\n      street1: \"\",\n      street2: \"\",\n      city: \"\",\n      province: \"\",\n      postalCode: \"\",\n      password: \"\",\n    },\n  ]);\n  const [complexes, setComplexes] = useState([\n    {\n      complexId: \"\",\n      complexName: \"\",\n      street1: \"\",\n      street2: \"\",\n      city: \"\",\n      province: \"\",\n      postalCode: \"\",\n      telephoneNum: \"\",\n      startTime: \"\",\n      endTime: \"\",\n      cellNum: \"\",\n      units: [],\n      agents: [],\n    },\n  ]);\n  const [packages, setPackages] = useState([\n    {\n      packageId: \"\",\n      promotionId: \"\",\n      packageName: \"\",\n      minutes: 0,\n      standardPrice: \"\",\n      suvPrice: \"\",\n      description: \"\",\n      onPromotion: false,\n    },\n  ]);\n  const [promotions, setPromotions] = useState([\n    {\n      promotionId: \"\",\n      promotionName: \"\",\n      packageName: \"\",\n      standardPrice: \"\",\n      suvPrice: \"\",\n      isEnabled: false,\n    },\n  ]);\n\n  useIonViewWillEnter( () => {\n      getAgents();\n      getComplexes();\n      getPackages();\n      getPromotions();\n  });\n\n  const getAgents = () => {\n    setShowLoader(true);\n    var url = \"agent/get/all\";\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapAgents(response);\n    });\n  };\n  const getComplexes = () => {\n    setShowLoader(true);\n    var url = \"complex/get/all\";\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapComplexes(response);\n    });\n  };\n  const getPackages = () => {\n    setShowLoader(true);\n    var url = \"package/get/all\";\n\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapPackages(response);\n    });\n  };\n  const getPromotions = () => {\n    setShowLoader(true);\n    var url = \"promotion/get/all\";\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapPromotions(response);\n    });\n  };\n\n  const mapPackages = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setPackages(response.data.data);\n    }\n  };\n  const mapAgents = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setAgents(response.data.data);\n    }\n  };\n\n  const mapComplexes = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setComplexes(response.data.data);\n    }\n  };\n  const mapPromotions = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setPromotions(response.data.data);\n    }\n  };\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>{name.concat(\" Management\")}</IonTitle>\n        </IonToolbar>\n        <IonAlert\n          isOpen={showError}\n          onDidDismiss={() => setShowError(false)}\n          header={'Error'}\n          subHeader={'Something went wrong.'}\n          message={errorMessage}\n          buttons={['OK']}\n        />\n      </IonHeader>\n\n      <IonContent fullscreen>\n      <IonLoading\n            cssClass='my-custom-class'\n            showBackdrop\n            isOpen={showLoader}\n            message={'Please wait...'}\n          />\n        {/* {cards} */}\n        { title === \"agent\" && agents.length !== 0 &&\n        agents.map((agent) => (\n          <Card\n            type={title}\n            id={agent.agentId}\n            key={agent.agentId}\n            title={agent.name.concat(\" \", agent.surname)}\n            subtitle={agent.complexName}\n            reference={name}\n          />\n        ))}\n      { title === \"agent\" && agents.length === 0 && \n        <h2>No Agents</h2>\n      }\n      { title === \"complex\" && complexes.length !== 0 &&\n        complexes.map((complex) => (\n          <Card\n            type={title}\n            id={complex.complexId}\n            key={complex.complexId}\n            title={complex.complexName}\n            subtitle={complex.street2}\n            reference={name}\n          />\n        ))}\n      { title === \"complex\" && complexes.length === 0 &&\n        <h2>No Complexes</h2>\n      }\n      { title === \"package\" && packages.length !== 0 &&\n      packages.map((pack) => (\n        <Card\n          type={title}\n          id={pack.packageId}\n          key={pack.packageId}\n          title={pack.packageName}\n          subtitle={pack.description}\n          reference={name}\n        />\n      ))}\n      { title === \"package\" && packages.length === 0 &&\n        <h2>No Packages</h2>\n      }\n      { title === \"promotion\" && promotions.length !== 0 &&\n        promotions.map((promotion) => (\n          <Card\n            type={title}\n            id={promotion.promotionId}\n            key={promotion.promotionId}\n            title={promotion.promotionName}\n            subtitle={promotion.packageName}\n            reference={name}\n          />\n        ))}\n      { title === \"promotion\" && promotions.length === 0 &&\n        <h2>No Promotions</h2>\n      }\n        <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n          <IonFabButton href={addUrl.concat(name, \"/\", title)}>\n            <IonIcon icon={add} />\n          </IonFabButton>\n        </IonFab>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Management;\n"]},"metadata":{},"sourceType":"module"}