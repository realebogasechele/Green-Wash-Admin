{"ast":null,"code":"var _jsxFileName = \"/Users/onceknownriley/Documents/GreenWashProject/Admin/src/pages/Recover Account/RecoverOtp.tsx\",\n    _s = $RefreshSig$();\n\n/** @jsxImportSource theme-ui */\nimport { Storage } from \"@capacitor/storage\";\nimport { IonAlert, IonBackButton, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCol, IonContent, IonGrid, IonHeader, IonInput, IonItem, IonLabel, IonLoading, IonPage, IonRow, IonTitle, IonToolbar } from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { validOtp } from \"../../components/Regex/Regex\";\nimport { jsxDEV as _jsxDEV } from \"theme-ui/jsx-dev-runtime\";\n\nconst RecoverOtp = () => {\n  _s();\n\n  const [otp, setOtp] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [showError, setShowError] = useState(false);\n  const [showLoader, setShowLoader] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const updateOtp = otp => setOtp(otp);\n\n  const resendOtp = () => {\n    console.log(\"Yeah\");\n  };\n\n  const getAdminId = async () => {\n    const id = await Storage.get({\n      key: \"adminId\"\n    });\n    const adminId = id.value;\n    setTime(new Date().toISOString());\n    let url = \"recovery/recover/\".concat(otp, \"/\", adminId, \"/\", time);\n    console.log(url);\n  };\n\n  const buttonHandler = () => {\n    if (!validOtp.test(otp)) {\n      setShowLoader(false);\n      setMessage(\"Invalid Otp\");\n      setShowError(true);\n    } else {\n      getAdminId();\n    }\n  };\n\n  return _jsxDEV(IonPage, {\n    children: [_jsxDEV(IonLoading, {\n      cssClass: \"my-custom-class\",\n      showBackdrop: true,\n      isOpen: showLoader,\n      message: \"Please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), _jsxDEV(IonAlert, {\n      isOpen: showError,\n      onDidDismiss: () => setShowError(false),\n      header: \"Error\",\n      message: message,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), _jsxDEV(IonAlert, {\n      isOpen: showSuccess,\n      onDidDismiss: () => setShowError(false),\n      header: \"Success\",\n      message: message,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), _jsxDEV(IonHeader, {\n      children: _jsxDEV(IonToolbar, {\n        color: \"primary\",\n        children: [_jsxDEV(IonButtons, {\n          children: _jsxDEV(IonBackButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), _jsxDEV(IonTitle, {\n          children: \"Verify Otp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), _jsxDEV(IonContent, {\n      children: _jsxDEV(IonGrid, {\n        children: _jsxDEV(IonRow, {\n          children: _jsxDEV(IonCol, {\n            children: _jsxDEV(IonCard, {\n              sx: styles.card,\n              children: [_jsxDEV(IonCardHeader, {\n                children: _jsxDEV(IonCardSubtitle, {\n                  style: {\n                    textAlign: \"center\"\n                  },\n                  children: \"Enter the otp that was sent to the respective choice of medium\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), _jsxDEV(IonCardContent, {\n                children: [_jsxDEV(IonRow, {\n                  children: _jsxDEV(IonCol, {\n                    children: _jsxDEV(IonItem, {\n                      children: [_jsxDEV(IonLabel, {\n                        position: \"floating\",\n                        children: \"One-Time Pin\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 106,\n                        columnNumber: 25\n                      }, this), _jsxDEV(IonInput, {\n                        type: \"text\",\n                        value: otp,\n                        onIonChange: e => updateOtp(e.detail.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 105,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this), _jsxDEV(IonRow, {\n                  children: _jsxDEV(IonCol, {\n                    children: _jsxDEV(IonButton, {\n                      type: \"submit\",\n                      expand: \"block\",\n                      shape: \"round\",\n                      sx: styles.button,\n                      onClick: () => buttonHandler(),\n                      children: \"Verify\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this), _jsxDEV(IonRow, {\n                  children: _jsxDEV(IonCol, {\n                    children: _jsxDEV(\"p\", {\n                      style: {\n                        textAlign: \"center\"\n                      },\n                      children: [\"Didn't recieve it ? \", _jsxDEV(\"a\", {\n                        onClick: () => resendOtp(),\n                        children: \"Resend One-Time Pin\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 80\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RecoverOtp, \"V1SXhU+vZ6suPkzHmAoZUiNTobM=\");\n\n_c = RecoverOtp;\nexport default RecoverOtp;\nconst styles = {\n  card: {\n    mt: \"23vh\"\n  },\n  button: {\n    mt: \"3\",\n    mb: \"4\"\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"RecoverOtp\");","map":{"version":3,"sources":["/Users/onceknownriley/Documents/GreenWashProject/Admin/src/pages/Recover Account/RecoverOtp.tsx"],"names":["Storage","IonAlert","IonBackButton","IonButton","IonButtons","IonCard","IonCardContent","IonCardHeader","IonCardSubtitle","IonCol","IonContent","IonGrid","IonHeader","IonInput","IonItem","IonLabel","IonLoading","IonPage","IonRow","IonTitle","IonToolbar","React","useState","validOtp","RecoverOtp","otp","setOtp","time","setTime","message","setMessage","showError","setShowError","showLoader","setShowLoader","showSuccess","setShowSuccess","updateOtp","resendOtp","console","log","getAdminId","id","get","key","adminId","value","Date","toISOString","url","concat","buttonHandler","test","styles","card","textAlign","e","detail","button","mt","mb"],"mappings":"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","sourcesContent":["/** @jsxImportSource theme-ui */\nimport { Storage } from \"@capacitor/storage\";\nimport {\n    IonAlert,\n  IonBackButton,\n  IonButton,\n  IonButtons,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardSubtitle,\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonHeader,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonLoading,\n  IonPage,\n  IonRow,\n  IonTitle,\n  IonToolbar,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { validOtp } from \"../../components/Regex/Regex\";\n\nconst RecoverOtp: React.FC = () => {\n  const [otp, setOtp] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [showError, setShowError] = useState(false);\n  const [showLoader, setShowLoader] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const updateOtp = (otp: any) => setOtp(otp);\n\n  const resendOtp = () => {\n      console.log(\"Yeah\");\n  };\n  const getAdminId = async() => {\n      const id: any = await Storage.get({key: \"adminId\"});\n      const adminId: any = id.value;\n\n      setTime(new Date().toISOString());\n\n      let url = \"recovery/recover/\".concat(otp, \"/\", adminId, \"/\", time);\n      console.log(url);\n  };\n\n  const buttonHandler = () => {\n      if(!validOtp.test(otp)){\n          setShowLoader(false);\n          setMessage(\"Invalid Otp\");\n          setShowError(true);\n      }else{\n          getAdminId();\n      }\n  };\n  return (\n    <IonPage>\n        <IonLoading\n        cssClass=\"my-custom-class\"\n        showBackdrop\n        isOpen={showLoader}\n        message={\"Please wait...\"}\n      />\n\n      <IonAlert\n        isOpen={showError}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Error\"}\n        message={message}\n        buttons={[\"OK\"]}\n      />\n      <IonAlert\n        isOpen={showSuccess}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Success\"}\n        message={message}\n        buttons={[\"OK\"]}\n      />\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons>\n            <IonBackButton />\n          </IonButtons>\n          <IonTitle>Verify Otp</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonGrid>\n          <IonRow>\n            <IonCol>\n              <IonCard sx={styles.card}>\n                <IonCardHeader>\n                  <IonCardSubtitle style={{ textAlign: \"center\" }}>\n                    Enter the otp that was sent to the respective choice of\n                    medium\n                  </IonCardSubtitle>\n                </IonCardHeader>\n                <IonCardContent>\n                  <IonRow>\n                    <IonCol>\n                      <IonItem>\n                        <IonLabel position=\"floating\">One-Time Pin</IonLabel>\n                        <IonInput\n                          type=\"text\"\n                          value={otp}\n                          onIonChange={(e) => updateOtp(e.detail.value)}\n                        />\n                      </IonItem>\n                    </IonCol>\n                  </IonRow>\n                  <IonRow>\n                      <IonCol>\n                          <IonButton type=\"submit\" expand=\"block\" shape=\"round\" sx={styles.button} onClick={()=>buttonHandler()}>Verify</IonButton>\n                      </IonCol>\n                  </IonRow>\n                  <IonRow>\n                      <IonCol>\n                          <p style={{textAlign: \"center\"}}>Didn't recieve it ? <a onClick={()=>resendOtp()}>Resend One-Time Pin</a></p>\n                      </IonCol>\n                  </IonRow>\n                </IonCardContent>\n              </IonCard>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default RecoverOtp;\n\nconst styles = {\n    card:{\n        mt: \"23vh\",\n    },\n    button: {\n        mt: \"3\",\n        mb: \"4\",\n    },\n};\n"]},"metadata":{},"sourceType":"module"}