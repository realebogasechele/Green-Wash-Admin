{"ast":null,"code":"import _slicedToArray from\"/Users/onceknownriley/Dev/Ionic-React/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonAlert,IonButton,IonCol,IonGrid,IonInput,IonItem,IonLabel,IonLoading,IonRow}from\"@ionic/react\";import React,{useState}from\"react\";import{useHistory}from\"react-router\";import Connection from\"../../mixins/Connection\";import{validCellNum,validPassword,validName}from\"../Regex/Regex\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminForm=function AdminForm(props){var _props$content=props.content,adminId=_props$content.adminId,name=_props$content.name,surname=_props$content.surname,cellNum=_props$content.cellNum,password=_props$content.password;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLoader=_useState2[0],setShowLoader=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSuccessSignUp=_useState4[0],setShowSuccessSignUp=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showError=_useState6[0],setShowError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),successMessage=_useState10[0],setSuccessMessage=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showSuccessUpdate=_useState12[0],setShowSuccessUpdate=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isFormValid=_useState14[0],setIsFormValid=_useState14[1];var _useState15=useState(name),_useState16=_slicedToArray(_useState15,2),enteredName=_useState16[0],setEnteredName=_useState16[1];var _useState17=useState(surname),_useState18=_slicedToArray(_useState17,2),enteredSurname=_useState18[0],setEnteredSurname=_useState18[1];var _useState19=useState(cellNum),_useState20=_slicedToArray(_useState19,2),enteredCellNum=_useState20[0],setEnteredCellNum=_useState20[1];var _useState21=useState(password),_useState22=_slicedToArray(_useState21,2),enteredPassword=_useState22[0],setEnteredPassword=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),confirmPassword=_useState24[0],setConfirmPassword=_useState24[1];var updateName=function updateName(name){setEnteredName(name);};var updateSurname=function updateSurname(surname){setEnteredSurname(surname);};var updateCellNum=function updateCellNum(cellNum){setEnteredCellNum(cellNum);};var updatePassword=function updatePassword(password){setEnteredPassword(password);};var updateConfirmPassword=function updateConfirmPassword(confirmPassword){setConfirmPassword(confirmPassword);};var path=useHistory();if(props.buttonName===\"Update\"){}else{}var buttonHandler=function buttonHandler(){setShowLoader(true);validateForm();if(isFormValid===true){setShowLoader(true);if(props.buttonName===\"Update\"){var url=\"update\";var payload={adminId:adminId,name:enteredName,surname:enteredSurname,cellNum:enteredCellNum,password:enteredPassword};Connection.processPostRequest(payload,url,function(response){mapUpdateResponse(response);});console.log(payload);}else if(props.buttonName===\"Delete\"){setShowLoader(false);var _path=\"remove/\";console.log(_path);}else{var _url=\"signUp\";var _payload={adminId:adminId,name:enteredName,surname:enteredSurname,cellNum:enteredCellNum,password:enteredPassword};Connection.processPostRequest(_payload,_url,function(response){mapPostResponse(response);});console.log(_payload);console.log(path);}}};var mapUpdateResponse=function mapUpdateResponse(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setSuccessMessage(\"Profile Updated!\");setShowSuccessUpdate(true);}};var mapPostResponse=function mapPostResponse(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setSuccessMessage(\"Details Successfully Captured!\");setShowSuccessSignUp(true);}};var validateForm=function validateForm(){if(enteredName===\"\"||enteredSurname===\"\"||enteredCellNum===\"\"||enteredPassword===\"\"){setShowLoader(false);setErrorMessage(\"Fields must not be left empty.\");setShowError(true);setIsFormValid(false);}else if(enteredPassword!==confirmPassword){setShowLoader(false);setErrorMessage(\"Passwords do not match. Please ensure they are entered correctly!\");setShowError(true);setIsFormValid(false);}else{if(!validName.test(enteredName)){setShowLoader(false);setErrorMessage(\"Invalid Name.\");setShowError(true);setIsFormValid(false);}else if(!validName.test(enteredSurname)){setShowLoader(false);setErrorMessage(\"Invalid Surname.\");setShowError(true);setIsFormValid(false);}else if(!validCellNum.test(enteredCellNum)){setShowLoader(false);setErrorMessage(\"Invalid Cell Number.\");setShowError(true);setIsFormValid(false);}else if(!validPassword.test(enteredPassword)){setShowLoader(false);setErrorMessage(\"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\");setShowError(true);setIsFormValid(false);}else{setIsFormValid(true);}}};return/*#__PURE__*/_jsxs(IonGrid,{children:[/*#__PURE__*/_jsx(IonLoading,{cssClass:\"my-custom-class\",showBackdrop:true,isOpen:showLoader,message:\"Please wait...\"}),/*#__PURE__*/_jsx(IonAlert,{isOpen:showError,onDidDismiss:function onDidDismiss(){return setShowError(false);},header:\"Error\",subHeader:\"Something went wrong.\",message:errorMessage,buttons:[\"OK\"]}),/*#__PURE__*/_jsx(IonAlert,{isOpen:props.buttonName===\"Sign Up\"?showSuccessSignUp:showSuccessUpdate,onDidDismiss:props.buttonName===\"Update\"?function(){return path.push(\"/dashboard\");}:function(){return path.push(\"/signIn\");},header:\"Success\",subHeader:successMessage,buttons:[\"OK\"]}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Name\"}),/*#__PURE__*/_jsx(IonInput,{type:\"text\",value:enteredName,onIonChange:function onIonChange(e){return updateName(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Surname\"}),/*#__PURE__*/_jsx(IonInput,{type:\"text\",value:enteredSurname,onIonChange:function onIonChange(e){return updateSurname(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Cell Number\"}),/*#__PURE__*/_jsx(IonInput,{type:\"text\",value:enteredCellNum,onIonChange:function onIonChange(e){return updateCellNum(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",value:enteredPassword,onIonChange:function onIonChange(e){return updatePassword(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"floating\",children:\"Confrim Password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",value:confirmPassword,onIonChange:function onIonChange(e){return updateConfirmPassword(e.detail.value);}})]})})}),/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{children:/*#__PURE__*/_jsx(IonButton,{shape:\"round\",type:\"submit\",expand:\"block\",onClick:buttonHandler,children:props.buttonName})})})]});};export default AdminForm;","map":{"version":3,"sources":["/Users/onceknownriley/Dev/Ionic-React/admin/src/components/Forms/AdminForm.tsx"],"names":["IonAlert","IonButton","IonCol","IonGrid","IonInput","IonItem","IonLabel","IonLoading","IonRow","React","useState","useHistory","Connection","validCellNum","validPassword","validName","AdminForm","props","content","adminId","name","surname","cellNum","password","showLoader","setShowLoader","showSuccessSignUp","setShowSuccessSignUp","showError","setShowError","errorMessage","setErrorMessage","successMessage","setSuccessMessage","showSuccessUpdate","setShowSuccessUpdate","isFormValid","setIsFormValid","enteredName","setEnteredName","enteredSurname","setEnteredSurname","enteredCellNum","setEnteredCellNum","enteredPassword","setEnteredPassword","confirmPassword","setConfirmPassword","updateName","updateSurname","updateCellNum","updatePassword","updateConfirmPassword","path","buttonName","buttonHandler","validateForm","url","payload","processPostRequest","response","mapUpdateResponse","console","log","mapPostResponse","type","data","test","push","e","detail","value"],"mappings":"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","sourcesContent":["import {\n  IonAlert,\n  IonButton,\n  IonCol,\n  IonGrid,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonLoading,\n  IonRow,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\n\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\n\ninterface Admin {\n  adminId: string;\n  name: string;\n  surname: string;\n  cellNum: string;\n  password: string;\n}\n\nconst AdminForm: React.FC<{ buttonName: string; content: Admin }> = (props) => {\n  const { adminId, name, surname, cellNum, password } = props.content;\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [showSuccessSignUp, setShowSuccessSignUp] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [showSuccessUpdate, setShowSuccessUpdate] = useState(false);\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  const [enteredName, setEnteredName] = useState(name);\n  const [enteredSurname, setEnteredSurname] = useState(surname);\n  const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n  const [enteredPassword, setEnteredPassword] = useState(password);\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updateName = (name: any) => {\n    setEnteredName(name);\n  };\n  const updateSurname = (surname: any) => {\n    setEnteredSurname(surname);\n  };\n  const updateCellNum = (cellNum: any) => {\n    setEnteredCellNum(cellNum);\n  };\n  const updatePassword = (password: any) => {\n    setEnteredPassword(password);\n  };\n  const updateConfirmPassword = (confirmPassword: any) => {\n    setConfirmPassword(confirmPassword);\n  };\n\n  let path = useHistory();\n\n  if (props.buttonName === \"Update\") {\n  } else {\n  }\n\n  const buttonHandler = () => {\n    setShowLoader(true);\n    validateForm();\n    if (isFormValid === true) {\n      setShowLoader(true);\n      if (props.buttonName === \"Update\") {\n        let url = \"update\";\n\n        let payload: Admin = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword,\n        };\n        Connection.processPostRequest(payload, url, (response: any) => {\n          mapUpdateResponse(response);\n        });\n        console.log(payload);\n      } else if (props.buttonName === \"Delete\") {\n        setShowLoader(false);\n        let path = \"remove/\";\n        console.log(path);\n      } else {\n        let url = \"signUp\";\n        let payload: Admin = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword,\n        };\n\n        Connection.processPostRequest(payload, url, (response: any) => {\n          mapPostResponse(response);\n        });\n        console.log(payload);\n        console.log(path);\n      }\n    }\n  };\n\n  const mapUpdateResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Profile Updated!\");\n      setShowSuccessUpdate(true);\n    }\n  };\n\n  const mapPostResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Details Successfully Captured!\");\n      setShowSuccessSignUp(true);\n    }\n  };\n\n  const validateForm = () => {\n    if (\n      enteredName === \"\" ||\n      enteredSurname === \"\" ||\n      enteredCellNum === \"\" ||\n      enteredPassword === \"\"\n    ) {\n      setShowLoader(false);\n      setErrorMessage(\"Fields must not be left empty.\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else if (enteredPassword !== confirmPassword) {\n      setShowLoader(false);\n      setErrorMessage(\n        \"Passwords do not match. Please ensure they are entered correctly!\"\n      );\n      setShowError(true);\n      setIsFormValid(false);\n    } else {\n      if (!validName.test(enteredName)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Name.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validName.test(enteredSurname)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Surname.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validCellNum.test(enteredCellNum)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Cell Number.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validPassword.test(enteredPassword)) {\n        setShowLoader(false);\n        setErrorMessage(\n          \"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\"\n        );\n        setShowError(true);\n        setIsFormValid(false);\n      } else {\n        setIsFormValid(true);\n      }\n    }\n  };\n  return (\n    <IonGrid>\n      <IonLoading\n        cssClass=\"my-custom-class\"\n        showBackdrop\n        isOpen={showLoader}\n        message={\"Please wait...\"}\n      />\n\n      <IonAlert\n        isOpen={showError}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Error\"}\n        subHeader={\"Something went wrong.\"}\n        message={errorMessage}\n        buttons={[\"OK\"]}\n      />\n\n      <IonAlert\n        isOpen={\n          props.buttonName === \"Sign Up\" ? showSuccessSignUp : showSuccessUpdate\n        }\n        onDidDismiss={\n          props.buttonName === \"Update\"\n            ? () => path.push(\"/dashboard\")\n            : () => path.push(\"/signIn\")\n        }\n        header={\"Success\"}\n        subHeader={successMessage}\n        buttons={[\"OK\"]}\n      />\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Name</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredName}\n              onIonChange={(e) => updateName(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Surname</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredSurname}\n              onIonChange={(e) => updateSurname(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Cell Number</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredCellNum}\n              onIonChange={(e) => updateCellNum(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              value={enteredPassword}\n              onIonChange={(e) => updatePassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Confrim Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              value={confirmPassword}\n              onIonChange={(e) => updateConfirmPassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonButton\n            shape=\"round\"\n            type=\"submit\"\n            expand=\"block\"\n            onClick={buttonHandler}\n          >\n            {props.buttonName}\n          </IonButton>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  );\n};\n\nexport default AdminForm;\n"]},"metadata":{},"sourceType":"module"}