{"ast":null,"code":"import _slicedToArray from\"/Users/onceknownriley/Documents/GreenWashProject/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/** @jsxImportSource theme-ui */import{IonAlert,IonButtons,IonContent,IonFab,IonFabButton,IonHeader,IonIcon,IonLoading,IonMenuButton,IonPage,IonTitle,IonToolbar,useIonViewWillEnter}from\"@ionic/react\";import{add}from\"ionicons/icons\";import{useState}from\"react\";import{useParams}from\"react-router\";import Card from\"../../components/Card/Card\";import Connection from\"../../mixins/Connection\";import\"./Page.css\";import{jsx as _jsx}from\"theme-ui/jsx-runtime\";import{jsxs as _jsxs}from\"theme-ui/jsx-runtime\";var Management=function Management(){var addUrl=\"/add/\";var _useParams=useParams(),name=_useParams.name,title=_useParams.title;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showLoader=_useState2[0],setShowLoader=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showError=_useState4[0],setShowError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var _useState7=useState([{agentId:\"\",complexName:\"\",contractId:\"\",name:\"\",surname:\"\",id:\"\",cellNum:\"\",street1:\"\",street2:\"\",city:\"\",province:\"\",postalCode:\"\",password:\"\"}]),_useState8=_slicedToArray(_useState7,2),agents=_useState8[0],setAgents=_useState8[1];var _useState9=useState([{complexId:\"\",complexName:\"\",street1:\"\",street2:\"\",city:\"\",province:\"\",postalCode:\"\",telephoneNum:\"\",startTime:\"\",endTime:\"\",cellNum:\"\",units:[],agents:[]}]),_useState10=_slicedToArray(_useState9,2),complexes=_useState10[0],setComplexes=_useState10[1];var _useState11=useState([{packageId:\"\",promotionId:\"\",packageName:\"\",minutes:0,standardPrice:\"\",suvPrice:\"\",description:\"\",onPromotion:false}]),_useState12=_slicedToArray(_useState11,2),packages=_useState12[0],setPackages=_useState12[1];var _useState13=useState([{promotionId:\"\",promotionName:\"\",packageName:\"\",standardPrice:\"\",suvPrice:\"\",isEnabled:false}]),_useState14=_slicedToArray(_useState13,2),promotions=_useState14[0],setPromotions=_useState14[1];useIonViewWillEnter(function(){if(title==='agent'){getAgents();}else if(title==='complex'){getComplexes();}else if(title==='package'){getPackages();}else{getPromotions();}});var getAgents=function getAgents(){setShowLoader(true);var url=\"agent/get/all\";Connection.processGetRequest({},url,function(response){mapAgents(response);});};var getComplexes=function getComplexes(){setShowLoader(true);var url=\"complex/get/all\";Connection.processGetRequest({},url,function(response){mapComplexes(response);});};var getPackages=function getPackages(){setShowLoader(true);var url=\"package/get/all\";Connection.processGetRequest({},url,function(response){mapPackages(response);});};var getPromotions=function getPromotions(){setShowLoader(true);var url=\"promotion/get/all\";Connection.processGetRequest({},url,function(response){mapPromotions(response);});};var mapPackages=function mapPackages(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setPackages(response.data.data);}};var mapAgents=function mapAgents(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setAgents(response.data.data);}};var mapComplexes=function mapComplexes(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setComplexes(response.data.data);}};var mapPromotions=function mapPromotions(response){if(response.type===\"error\"){setShowLoader(false);setErrorMessage(response.data);setShowError(true);}else{setShowLoader(false);setPromotions(response.data.data);}};return _jsxs(IonPage,{children:[_jsxs(IonHeader,{children:[_jsxs(IonToolbar,{color:\"primary\",children:[_jsx(IonButtons,{slot:\"start\",children:_jsx(IonMenuButton,{})}),_jsx(IonTitle,{children:name.concat(\" Management\")})]}),_jsx(IonAlert,{isOpen:showError,onDidDismiss:function onDidDismiss(){return setShowError(false);},header:'Error',subHeader:'Something went wrong.',message:errorMessage,buttons:['OK']})]}),_jsxs(IonContent,{fullscreen:true,children:[_jsx(IonLoading,{cssClass:\"my-custom-class\",showBackdrop:true,isOpen:showLoader,message:'Please wait...'}),title===\"agent\"&&agents.length!==0&&agents.map(function(agent){return _jsx(Card,{type:title,id:agent.agentId,title:agent.name.concat(\" \",agent.surname),subtitle:agent.complexName,reference:name},agent.agentId);}),title===\"agent\"&&agents.length===0&&_jsx(\"h2\",{sx:styles.heading,children:\"No Agents\"}),title===\"complex\"&&complexes[0].complexId!==''&&complexes.map(function(complex){return _jsx(Card,{type:title,id:complex.complexId,title:complex.complexName,subtitle:complex.street2,reference:name},complex.complexId);}),title===\"complex\"&&complexes[0].complexId===''&&_jsx(\"h2\",{sx:styles.heading,children:\"No Complexes\"}),title===\"package\"&&packages[0].minutes!==0&&packages.map(function(pack){return _jsx(Card,{type:title,id:pack.packageId,title:pack.packageName,subtitle:pack.description,reference:name},pack.packageId);}),title===\"package\"&&packages[0].minutes===0&&_jsx(\"h2\",{sx:styles.heading,children:\"No Packages\"}),title===\"promotion\"&&promotions.length!==0&&promotions.map(function(promotion){return _jsx(Card,{type:title,id:promotion.promotionId,title:promotion.promotionName,subtitle:promotion.packageName,reference:name},promotion.promotionId);}),title===\"promotion\"&&promotions.length===0&&_jsx(\"h2\",{sx:styles.heading,children:\"No Promotions\"}),_jsx(IonFab,{vertical:\"bottom\",horizontal:\"end\",slot:\"fixed\",children:_jsx(IonFabButton,{href:addUrl.concat(name,\"/\",title),children:_jsx(IonIcon,{icon:add})})})]})]});};export default Management;var styles={heading:{display:\"flex\",justifyContent:\"center\",color:\"grey\",mt:'40vh',opacity:'0.5'}};","map":{"version":3,"sources":["/Users/onceknownriley/Documents/GreenWashProject/Admin/src/pages/Management/Management.tsx"],"names":["IonAlert","IonButtons","IonContent","IonFab","IonFabButton","IonHeader","IonIcon","IonLoading","IonMenuButton","IonPage","IonTitle","IonToolbar","useIonViewWillEnter","add","useState","useParams","Card","Connection","Management","addUrl","name","title","showLoader","setShowLoader","showError","setShowError","errorMessage","setErrorMessage","agentId","complexName","contractId","surname","id","cellNum","street1","street2","city","province","postalCode","password","agents","setAgents","complexId","telephoneNum","startTime","endTime","units","complexes","setComplexes","packageId","promotionId","packageName","minutes","standardPrice","suvPrice","description","onPromotion","packages","setPackages","promotionName","isEnabled","promotions","setPromotions","getAgents","getComplexes","getPackages","getPromotions","url","processGetRequest","response","mapAgents","mapComplexes","mapPackages","mapPromotions","type","data","concat","length","map","agent","styles","heading","complex","pack","promotion","display","justifyContent","color","mt","opacity"],"mappings":"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","sourcesContent":["/** @jsxImportSource theme-ui */\nimport {\n  IonAlert,\n  IonButtons,\n  IonContent,\n  IonFab,\n  IonFabButton,\n  IonHeader,\n  IonIcon,\n  IonLoading,\n  IonMenuButton,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  useIonViewWillEnter,\n} from \"@ionic/react\";\nimport { add } from \"ionicons/icons\";\nimport { useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport Card from \"../../components/Card/Card\";\nimport Connection from \"../../mixins/Connection\";\nimport \"./Page.css\";\n\nconst Management: React.FC = () => {\n  const addUrl = \"/add/\";\n  const { name, title } =\n    useParams<{\n      name: string;\n      title: \"agent\" | \"complex\" | \"package\" | \"promotion\";\n    }>();\n\n  const [showLoader, setShowLoader] = useState(true);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [agents, setAgents] = useState([\n    {\n      agentId: \"\",\n      complexName: \"\",\n      contractId: \"\",\n      name: \"\",\n      surname: \"\",\n      id: \"\",\n      cellNum: \"\",\n      street1: \"\",\n      street2: \"\",\n      city: \"\",\n      province: \"\",\n      postalCode: \"\",\n      password: \"\",\n    },\n  ]);\n  const [complexes, setComplexes] = useState([\n    {\n      complexId: \"\",\n      complexName: \"\",\n      street1: \"\",\n      street2: \"\",\n      city: \"\",\n      province: \"\",\n      postalCode: \"\",\n      telephoneNum: \"\",\n      startTime: \"\",\n      endTime: \"\",\n      cellNum: \"\",\n      units: [],\n      agents: [],\n    },\n  ]);\n  const [packages, setPackages] = useState([\n    {\n      packageId: \"\",\n      promotionId: \"\",\n      packageName: \"\",\n      minutes: 0,\n      standardPrice: \"\",\n      suvPrice: \"\",\n      description: \"\",\n      onPromotion: false,\n    },\n  ]);\n  const [promotions, setPromotions] = useState([\n    {\n      promotionId: \"\",\n      promotionName: \"\",\n      packageName: \"\",\n      standardPrice: \"\",\n      suvPrice: \"\",\n      isEnabled: false,\n    },\n  ]);\n\n  useIonViewWillEnter( () => {\n    if(title === 'agent'){\n      getAgents();\n    }else if(title === 'complex'){\n      getComplexes();\n    }else if(title === 'package'){\n      getPackages();\n    }else{\n      getPromotions();\n    }\n  });\n\n  const getAgents = () => {\n    setShowLoader(true);\n    var url = \"agent/get/all\";\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapAgents(response);\n    });\n  };\n  const getComplexes = () => {\n    setShowLoader(true);\n    var url = \"complex/get/all\";\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapComplexes(response);\n    });\n  };\n  const getPackages = () => {\n    setShowLoader(true);\n    var url = \"package/get/all\";\n\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapPackages(response);\n    });\n  };\n  const getPromotions = () => {\n    setShowLoader(true);\n    var url = \"promotion/get/all\";\n    Connection.processGetRequest({}, url, (response: any) => {\n      mapPromotions(response);\n    });\n  };\n\n  const mapPackages = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setPackages(response.data.data);\n    }\n  };\n  const mapAgents = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setAgents(response.data.data);\n    }\n  };\n\n  const mapComplexes = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setComplexes(response.data.data);\n    }\n  };\n  const mapPromotions = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setPromotions(response.data.data);\n    }\n  };\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar color=\"primary\">\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>{name.concat(\" Management\")}</IonTitle>\n        </IonToolbar>\n        <IonAlert\n          isOpen={showError}\n          onDidDismiss={() => setShowError(false)}\n          header={'Error'}\n          subHeader={'Something went wrong.'}\n          message={errorMessage}\n          buttons={['OK']}\n        />\n      </IonHeader>\n\n      <IonContent fullscreen>\n      <IonLoading\n            cssClass='my-custom-class'\n            showBackdrop\n            isOpen={showLoader}\n            message={'Please wait...'}\n          />\n        { title === \"agent\" && agents.length !== 0 &&\n        agents.map((agent) => (\n          <Card\n            type={title}\n            id={agent.agentId}\n            key={agent.agentId}\n            title={agent.name.concat(\" \", agent.surname)}\n            subtitle={agent.complexName}\n            reference={name}\n          />\n        ))}\n      { title === \"agent\" && agents.length === 0 && \n        <h2 sx={styles.heading}>No Agents</h2>\n      }\n      { title === \"complex\" && complexes[0].complexId !== '' &&\n        complexes.map((complex) => (\n          <Card\n            type={title}\n            id={complex.complexId}\n            key={complex.complexId}\n            title={complex.complexName}\n            subtitle={complex.street2}\n            reference={name}\n          />\n        ))}\n      { title === \"complex\" && complexes[0].complexId === '' &&\n        <h2 sx={styles.heading}>No Complexes</h2>\n      }\n      { title === \"package\" && packages[0].minutes !== 0 &&\n      packages.map((pack) => (\n        <Card\n          type={title}\n          id={pack.packageId}\n          key={pack.packageId}\n          title={pack.packageName}\n          subtitle={pack.description}\n          reference={name}\n        />\n      ))}\n      { title === \"package\" && packages[0].minutes === 0 &&\n        <h2 sx={styles.heading}>No Packages</h2>\n      }\n      { title === \"promotion\" && promotions.length !== 0  &&\n        promotions.map((promotion) => (\n          <Card\n            type={title}\n            id={promotion.promotionId}\n            key={promotion.promotionId}\n            title={promotion.promotionName}\n            subtitle={promotion.packageName}\n            reference={name}\n          />\n        ))}\n      { title === \"promotion\" && promotions.length === 0 &&\n        <h2 sx={styles.heading}>No Promotions</h2>\n      }\n        <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n          <IonFabButton href={addUrl.concat(name, \"/\", title)}>\n            <IonIcon icon={add} />\n          </IonFabButton>\n        </IonFab>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Management;\n\nconst styles = {\n  heading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    color: \"grey\",\n    mt:'40vh',\n    opacity: '0.5'\n  }\n}"]},"metadata":{},"sourceType":"module"}