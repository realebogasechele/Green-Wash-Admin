{"ast":null,"code":"var _jsxFileName = \"/Users/onceknownriley/Dev/Ionic-React/admin/src/components/Forms/AdminForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { IonAlert, IonButton, IonCol, IonGrid, IonInput, IonItem, IonLabel, IonLoading, IonRow } from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminForm = props => {\n  _s();\n\n  const {\n    adminId,\n    name,\n    surname,\n    cellNum,\n    password\n  } = props.content;\n  const [showLoader, setShowLoader] = useState(false);\n  const [showSuccessSignUp, setShowSuccessSignUp] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [showSuccessUpdate, setShowSuccessUpdate] = useState(false);\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [enteredName, setEnteredName] = useState(name);\n  const [enteredSurname, setEnteredSurname] = useState(surname);\n  const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n  const [enteredPassword, setEnteredPassword] = useState(password);\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updateName = name => {\n    setEnteredName(name);\n  };\n\n  const updateSurname = surname => {\n    setEnteredSurname(surname);\n  };\n\n  const updateCellNum = cellNum => {\n    setEnteredCellNum(cellNum);\n  };\n\n  const updatePassword = password => {\n    setEnteredPassword(password);\n  };\n\n  const updateConfirmPassword = confirmPassword => {\n    setConfirmPassword(confirmPassword);\n  };\n\n  let path = useHistory();\n\n  if (props.buttonName === \"Update\") {} else {}\n\n  const buttonHandler = () => {\n    //validateForm();\n    //if (isFormValid === true) {\n    setShowLoader(true);\n\n    if (props.buttonName === \"Update\") {\n      let url = \"update\";\n      let payload = {\n        adminId: adminId,\n        name: enteredName,\n        surname: enteredSurname,\n        cellNum: enteredCellNum,\n        password: enteredPassword\n      };\n      Connection.processPostRequest(payload, url, response => {\n        mapUpdateResponse(response);\n      });\n      console.log(payload);\n    } else if (props.buttonName === \"Delete\") {\n      setShowLoader(false);\n      let path = \"remove/\";\n      console.log(path);\n    } else {\n      let url = \"signUp\";\n      let payload = {\n        adminId: adminId,\n        name: enteredName,\n        surname: enteredSurname,\n        cellNum: enteredCellNum,\n        password: enteredPassword\n      };\n      Connection.processPostRequest(payload, url, response => {\n        mapPostResponse(response);\n      });\n      console.log(payload);\n      console.log(path);\n    } //}\n\n  };\n\n  const mapUpdateResponse = response => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Profile Updated!\");\n      setShowSuccessUpdate(true);\n    }\n  };\n\n  const mapPostResponse = response => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Details Successfully Captured!\");\n      setShowSuccessSignUp(true);\n    }\n  };\n\n  const validateForm = () => {\n    if (enteredName === \"\" || enteredSurname === \"\" || enteredCellNum === \"\" || enteredPassword === \"\") {\n      setShowLoader(false);\n      setErrorMessage(\"Fields must not be left empty.\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else if (enteredPassword !== confirmPassword) {\n      setShowLoader(false);\n      setErrorMessage(\"Passwords do not match. Please ensure they are entered correctly!\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else {\n      if (!validName.test(enteredName)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Name.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validName.test(enteredSurname)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Surname.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validCellNum.test(enteredCellNum)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Cell Number.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validPassword.test(enteredPassword)) {\n        setShowLoader(false);\n        setErrorMessage(\"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else {\n        setIsFormValid(true);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonGrid, {\n    children: [/*#__PURE__*/_jsxDEV(IonLoading, {\n      cssClass: \"my-custom-class\",\n      showBackdrop: true,\n      isOpen: showLoader,\n      message: \"Please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n      isOpen: showError,\n      onDidDismiss: () => setShowError(false),\n      header: \"Error\",\n      subHeader: \"Something went wrong.\",\n      message: errorMessage,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n      isOpen: props.buttonName === \"Sign Up\" ? showSuccessSignUp : showSuccessUpdate,\n      onDidDismiss: props.buttonName === \"Update\" ? () => path.push(\"/dashboard\") : () => path.push(\"/signIn\"),\n      header: \"Success\",\n      subHeader: successMessage,\n      buttons: [\"OK\"]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredName,\n            onIonChange: e => updateName(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Surname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredSurname,\n            onIonChange: e => updateSurname(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Cell Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredCellNum,\n            onIonChange: e => updateCellNum(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"password\",\n            value: enteredPassword,\n            onIonChange: e => updatePassword(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Confrim Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"password\",\n            value: confirmPassword,\n            onIonChange: e => updateConfirmPassword(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonButton, {\n          shape: \"round\",\n          type: \"submit\",\n          expand: \"block\",\n          onClick: buttonHandler,\n          children: props.buttonName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminForm, \"VcoA957vwgWVlVdLCfCg83M8cEw=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminForm;\nexport default AdminForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminForm\");","map":{"version":3,"sources":["/Users/onceknownriley/Dev/Ionic-React/admin/src/components/Forms/AdminForm.tsx"],"names":["IonAlert","IonButton","IonCol","IonGrid","IonInput","IonItem","IonLabel","IonLoading","IonRow","React","useState","useHistory","Connection","validCellNum","validPassword","validName","AdminForm","props","adminId","name","surname","cellNum","password","content","showLoader","setShowLoader","showSuccessSignUp","setShowSuccessSignUp","showError","setShowError","errorMessage","setErrorMessage","successMessage","setSuccessMessage","showSuccessUpdate","setShowSuccessUpdate","isFormValid","setIsFormValid","enteredName","setEnteredName","enteredSurname","setEnteredSurname","enteredCellNum","setEnteredCellNum","enteredPassword","setEnteredPassword","confirmPassword","setConfirmPassword","updateName","updateSurname","updateCellNum","updatePassword","updateConfirmPassword","path","buttonName","buttonHandler","url","payload","processPostRequest","response","mapUpdateResponse","console","log","mapPostResponse","type","data","validateForm","test","push","e","detail","value"],"mappings":"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","sourcesContent":["import {\n  IonAlert,\n  IonButton,\n  IonCol,\n  IonGrid,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonLoading,\n  IonRow,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\n\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\n\ninterface Admin {\n  adminId: string;\n  name: string;\n  surname: string;\n  cellNum: string;\n  password: string;\n}\n\nconst AdminForm: React.FC<{ buttonName: string; content: Admin }> = (props) => {\n  const { adminId, name, surname, cellNum, password } = props.content;\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [showSuccessSignUp, setShowSuccessSignUp] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [showSuccessUpdate, setShowSuccessUpdate] = useState(false);\n  const [isFormValid, setIsFormValid] = useState(false);\n\n  const [enteredName, setEnteredName] = useState(name);\n  const [enteredSurname, setEnteredSurname] = useState(surname);\n  const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n  const [enteredPassword, setEnteredPassword] = useState(password);\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updateName = (name: any) => {\n    setEnteredName(name);\n  };\n  const updateSurname = (surname: any) => {\n    setEnteredSurname(surname);\n  };\n  const updateCellNum = (cellNum: any) => {\n    setEnteredCellNum(cellNum);\n  };\n  const updatePassword = (password: any) => {\n    setEnteredPassword(password);\n  };\n  const updateConfirmPassword = (confirmPassword: any) => {\n    setConfirmPassword(confirmPassword);\n  };\n\n  let path = useHistory();\n\n  if (props.buttonName === \"Update\") {\n  } else {\n  }\n\n  const buttonHandler = () => {\n    //validateForm();\n    //if (isFormValid === true) {\n      setShowLoader(true);\n      if (props.buttonName === \"Update\") {\n        let url = \"update\";\n\n        let payload: Admin = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword,\n        };\n        Connection.processPostRequest(payload, url, (response: any) => {\n          mapUpdateResponse(response);\n        });\n        console.log(payload);\n      } else if (props.buttonName === \"Delete\") {\n        setShowLoader(false);\n        let path = \"remove/\";\n        console.log(path);\n      } else {\n        let url = \"signUp\";\n        let payload: Admin = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword,\n        };\n\n        Connection.processPostRequest(payload, url, (response: any) => {\n          mapPostResponse(response);\n        });\n        console.log(payload);\n        console.log(path);\n      }\n    //}\n  };\n\n  const mapUpdateResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Profile Updated!\");\n      setShowSuccessUpdate(true);\n    }\n  };\n\n  const mapPostResponse = (response: any) => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      setSuccessMessage(\"Details Successfully Captured!\");\n      setShowSuccessSignUp(true);\n    }\n  };\n\n  const validateForm = () => {\n    if (\n      enteredName === \"\" ||\n      enteredSurname === \"\" ||\n      enteredCellNum === \"\" ||\n      enteredPassword === \"\"\n    ) {\n      setShowLoader(false);\n      setErrorMessage(\"Fields must not be left empty.\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else if (enteredPassword !== confirmPassword) {\n      setShowLoader(false);\n      setErrorMessage(\n        \"Passwords do not match. Please ensure they are entered correctly!\"\n      );\n      setShowError(true);\n      setIsFormValid(false);\n    } else {\n      if (!validName.test(enteredName)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Name.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validName.test(enteredSurname)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Surname.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validCellNum.test(enteredCellNum)) {\n        setShowLoader(false);\n        setErrorMessage(\"Invalid Cell Number.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validPassword.test(enteredPassword)) {\n        setShowLoader(false);\n        setErrorMessage(\n          \"Password must be 8-16 characters long. Ensure it includes atleast 1 aphabet character and 1 digit.\"\n        );\n        setShowError(true);\n        setIsFormValid(false);\n      } else {\n        setIsFormValid(true);\n      }\n    }\n  };\n  return (\n    <IonGrid>\n      <IonLoading\n        cssClass=\"my-custom-class\"\n        showBackdrop\n        isOpen={showLoader}\n        message={\"Please wait...\"}\n      />\n\n      <IonAlert\n        isOpen={showError}\n        onDidDismiss={() => setShowError(false)}\n        header={\"Error\"}\n        subHeader={\"Something went wrong.\"}\n        message={errorMessage}\n        buttons={[\"OK\"]}\n      />\n\n      <IonAlert\n        isOpen={\n          props.buttonName === \"Sign Up\" ? showSuccessSignUp : showSuccessUpdate\n        }\n        onDidDismiss={\n          props.buttonName === \"Update\"\n            ? () => path.push(\"/dashboard\")\n            : () => path.push(\"/signIn\")\n        }\n        header={\"Success\"}\n        subHeader={successMessage}\n        buttons={[\"OK\"]}\n      />\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Name</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredName}\n              onIonChange={(e) => updateName(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Surname</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredSurname}\n              onIonChange={(e) => updateSurname(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Cell Number</IonLabel>\n            <IonInput\n              type=\"text\"\n              value={enteredCellNum}\n              onIonChange={(e) => updateCellNum(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              value={enteredPassword}\n              onIonChange={(e) => updatePassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Confrim Password</IonLabel>\n            <IonInput\n              type=\"password\"\n              value={confirmPassword}\n              onIonChange={(e) => updateConfirmPassword(e.detail.value)}\n            />\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonButton\n            shape=\"round\"\n            type=\"submit\"\n            expand=\"block\"\n            onClick={buttonHandler}\n          >\n            {props.buttonName}\n          </IonButton>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  );\n};\n\nexport default AdminForm;\n"]},"metadata":{},"sourceType":"module"}