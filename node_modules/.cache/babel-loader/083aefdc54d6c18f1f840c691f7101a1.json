{"ast":null,"code":"var _jsxFileName = \"/Users/onceknownriley/Dev/Ionic-React/admin/src/components/Forms/AdminForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { IonAlert, IonButton, IonCol, IonGrid, IonInput, IonItem, IonLabel, IonRow } from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminForm = props => {\n  _s();\n\n  const {\n    adminId,\n    name,\n    surname,\n    cellNum,\n    password\n  } = props.content;\n  const [showLoader, setShowLoader] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [enteredName, setEnteredName] = useState(name);\n  const [enteredSurname, setEnteredSurname] = useState(surname);\n  const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n  const [enteredPassword, setEnteredPassword] = useState(password);\n  const [confirmPassword, setConfirmPassword] = useState('');\n\n  const updateName = name => {\n    setEnteredName(name);\n  };\n\n  const updateSurname = surname => {\n    setEnteredSurname(surname);\n  };\n\n  const updateCellNum = cellNum => {\n    setEnteredCellNum(cellNum);\n  };\n\n  const updatePassword = password => {\n    setEnteredPassword(password);\n  };\n\n  const updateConfirmPassword = confirmPassword => {\n    setConfirmPassword(confirmPassword);\n  };\n\n  let path = useHistory();\n\n  if (props.buttonName === \"Update\") {} else {}\n\n  const buttonHandler = () => {\n    validateForm();\n\n    if (isFormValid === true) {\n      setShowLoader(true);\n\n      if (props.buttonName === \"Update\") {\n        let url = \"update\";\n        let payload = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword\n        };\n        Connection.processPostRequest(payload, url, response => {\n          mapUpdateResponse(response);\n        });\n        console.log(payload);\n      } else if (props.buttonName === \"Delete\") {\n        let path = \"remove\";\n        console.log(path);\n      } else {\n        let url = \"signUp\";\n        let payload = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword\n        };\n        Connection.processPostRequest(payload, url, response => {\n          mapPostResponse(response);\n        });\n        console.log(payload);\n        console.log(path);\n      }\n    }\n  };\n\n  const mapUpdateResponse = response => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      path.push(\"/dashboard\");\n    }\n  };\n\n  const mapPostResponse = response => {\n    if (response.type === \"error\") {\n      setShowLoader(false);\n      setErrorMessage(response.data);\n      setShowError(true);\n    } else {\n      setShowLoader(false);\n      path.push(\"/signIn\");\n    }\n  };\n\n  const validateForm = () => {\n    if (enteredName === '' || enteredSurname === '' || enteredCellNum === '' || enteredPassword === '') {\n      setErrorMessage(\"Fields must not be left empty.\");\n      setShowError(true);\n      setIsFormValid(false);\n    } else if (enteredPassword !== confirmPassword) {\n      setErrorMessage(\"Passwords do not match. Please ensure they are entered correctly!\");\n    } else {\n      if (!validName.test(enteredName)) {\n        setErrorMessage(\"Invalid Name.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validCellNum.test(enteredCellNum)) {\n        setErrorMessage(\"Invalid Cell Number.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else if (!validPassword.test(enteredPassword)) {\n        setErrorMessage(\"Password must be 8-16 characters long. Ensure it Include atleast 1 aphabet and 1 digit.\");\n        setShowError(true);\n        setIsFormValid(false);\n      } else {\n        setIsFormValid(true);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonGrid, {\n    children: [/*#__PURE__*/_jsxDEV(IonAlert, {\n      isOpen: showError,\n      onDidDismiss: () => setShowError(false),\n      header: 'Error',\n      message: errorMessage,\n      buttons: ['OK']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredName,\n            onIonChange: e => updateName(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Surname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredSurname,\n            onIonChange: e => updateSurname(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Cell Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"text\",\n            value: enteredCellNum,\n            onIonChange: e => updateCellNum(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"password\",\n            value: enteredPassword,\n            onIonChange: e => updatePassword(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonItem, {\n          children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n            position: \"floating\",\n            children: \"Confrim Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n            type: \"password\",\n            value: confirmPassword,\n            onIonChange: e => updateConfirmPassword(e.detail.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonRow, {\n      children: /*#__PURE__*/_jsxDEV(IonCol, {\n        children: /*#__PURE__*/_jsxDEV(IonButton, {\n          shape: \"round\",\n          type: \"submit\",\n          expand: \"block\",\n          onClick: buttonHandler,\n          children: props.buttonName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminForm, \"nnGl7hop9oa4lclS9EZE4jz/59E=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminForm;\nexport default AdminForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminForm\");","map":{"version":3,"sources":["/Users/onceknownriley/Dev/Ionic-React/admin/src/components/Forms/AdminForm.tsx"],"names":["IonAlert","IonButton","IonCol","IonGrid","IonInput","IonItem","IonLabel","IonRow","React","useState","useHistory","Connection","validCellNum","validPassword","validName","AdminForm","props","adminId","name","surname","cellNum","password","content","showLoader","setShowLoader","showError","setShowError","errorMessage","setErrorMessage","isFormValid","setIsFormValid","enteredName","setEnteredName","enteredSurname","setEnteredSurname","enteredCellNum","setEnteredCellNum","enteredPassword","setEnteredPassword","confirmPassword","setConfirmPassword","updateName","updateSurname","updateCellNum","updatePassword","updateConfirmPassword","path","buttonName","buttonHandler","validateForm","url","payload","processPostRequest","response","mapUpdateResponse","console","log","mapPostResponse","type","data","push","test","e","detail","value"],"mappings":"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","sourcesContent":["import {\n  IonAlert,\n  IonButton,\n  IonCol,\n  IonGrid,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonRow,\n} from \"@ionic/react\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Connection from \"../../mixins/Connection\";\n\nimport { validCellNum, validPassword, validName } from \"../Regex/Regex\";\n\ninterface Admin{\n    adminId: string;\n    name: string;\n    surname: string;\n    cellNum: string;\n    password: string;\n}\n\nconst AdminForm: React.FC<{ buttonName: string, content: Admin}> = (props) => {\n    const {adminId, name, surname, cellNum, password} = props.content;\n\n    const [showLoader, setShowLoader] = useState(false);\n    const [showError, setShowError] = useState(false);\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const [isFormValid, setIsFormValid] = useState(false);\n\n    const [enteredName, setEnteredName] = useState(name);\n    const [enteredSurname, setEnteredSurname] = useState(surname);\n    const [enteredCellNum, setEnteredCellNum] = useState(cellNum);\n    const [enteredPassword, setEnteredPassword] = useState(password);\n    const [confirmPassword, setConfirmPassword] = useState('');\n\n    const updateName = (name: any) => {setEnteredName(name)};\n    const updateSurname = (surname: any) => {setEnteredSurname(surname)};\n    const updateCellNum = (cellNum: any) => {setEnteredCellNum(cellNum)};\n    const updatePassword = (password: any) => {setEnteredPassword(password)};\n    const updateConfirmPassword = (confirmPassword: any) => {setConfirmPassword(confirmPassword)};\n\n    let path = useHistory();\n\n    if (props.buttonName === \"Update\"){\n        \n    }\n    else{\n        \n    }\n\n    const buttonHandler = () => {\n      validateForm();\n      if(isFormValid === true){\n      setShowLoader(true);\n      if (props.buttonName === \"Update\"){\n        let url = \"update\";\n\n        let payload: Admin = {\n          adminId: adminId,\n          name: enteredName,\n          surname: enteredSurname,\n          cellNum: enteredCellNum,\n          password: enteredPassword\n        }\n        Connection.processPostRequest(payload, url, (response: any) =>{\n          mapUpdateResponse(response);\n        })\n        console.log(payload);\n    }\n    else if(props.buttonName === \"Delete\"){\n        let path = \"remove\";\n        console.log(path);\n    }\n    else{\n      let url = \"signUp\";\n      let payload: Admin = {\n        adminId: adminId,\n        name: enteredName,\n        surname: enteredSurname,\n        cellNum: enteredCellNum,\n        password: enteredPassword\n      }\n\n      Connection.processPostRequest(payload, url, (response: any) =>{\n        mapPostResponse(response);\n      })\n      console.log(payload);\n      console.log(path);\n    }\n  }\n};\n\n    const mapUpdateResponse = (response: any) =>{\n      if (response.type === \"error\") {\n        setShowLoader(false);\n        setErrorMessage(response.data);\n        setShowError(true);\n      } else {\n        setShowLoader(false);\n        path.push(\"/dashboard\");\n      }\n    }\n\n    const mapPostResponse = (response: any) =>{\n      if (response.type === \"error\") {\n        setShowLoader(false);\n        setErrorMessage(response.data);\n        setShowError(true);\n      } else {\n        setShowLoader(false);\n        path.push(\"/signIn\");\n      }\n    };\n\n    const validateForm = () => {\n      if(enteredName === '' || enteredSurname === '' || enteredCellNum === '' || enteredPassword === ''){\n        setErrorMessage(\"Fields must not be left empty.\");\n        setShowError(true);\n        setIsFormValid(false);\n      }\n      else if(enteredPassword !== confirmPassword){\n        setErrorMessage(\"Passwords do not match. Please ensure they are entered correctly!\");\n      }\n      else{\n        if(!validName.test(enteredName)){\n          setErrorMessage(\"Invalid Name.\")\n          setShowError(true);\n          setIsFormValid(false);\n        }else if(!validCellNum.test(enteredCellNum)){\n          setErrorMessage(\"Invalid Cell Number.\");\n          setShowError(true);\n          setIsFormValid(false);\n        }else if(!validPassword.test(enteredPassword)){\n          setErrorMessage(\"Password must be 8-16 characters long. Ensure it Include atleast 1 aphabet and 1 digit.\");\n          setShowError(true);\n          setIsFormValid(false);\n        }\n        else{\n          setIsFormValid(true);\n        }\n      }\n    };\n  return (\n    <IonGrid>\n      <IonAlert\n          isOpen={showError}\n          onDidDismiss={() => setShowError(false)}\n          header={'Error'}\n          message={errorMessage}\n          buttons={['OK']}\n        />\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Name</IonLabel>\n            <IonInput type=\"text\" value={enteredName} onIonChange={e => updateName(e.detail.value)}/>\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Surname</IonLabel>\n            <IonInput type=\"text\" value={enteredSurname} onIonChange={e => updateSurname(e.detail.value)}/>\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Cell Number</IonLabel>\n            <IonInput type=\"text\" value={enteredCellNum} onIonChange={e => updateCellNum(e.detail.value)}/>\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Password</IonLabel>\n            <IonInput type=\"password\" value={enteredPassword} onIonChange={e => updatePassword(e.detail.value)}/>\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonItem>\n            <IonLabel position=\"floating\">Confrim Password</IonLabel>\n            <IonInput type=\"password\" value={confirmPassword} onIonChange={e => updateConfirmPassword(e.detail.value)}/>\n          </IonItem>\n        </IonCol>\n      </IonRow>\n      <IonRow>\n        <IonCol>\n          <IonButton shape=\"round\" type=\"submit\" expand=\"block\" onClick={buttonHandler}>\n            {props.buttonName}\n          </IonButton>\n        </IonCol>\n      </IonRow>\n    </IonGrid>\n  );\n};\n\nexport default AdminForm;\n"]},"metadata":{},"sourceType":"module"}